angular.module("storiesModule",["ngRoute","ngCookies","ui.bootstrap","ui.sortable","configModule","bodyModule","topMenuModule","storyModule","compositeClassesModule","compositesModule","runnerModule","loginModule"]).service("TcBddService",["$modal","$http","$location","$q",function(t,e,o,s){this.openCompositeClass=function(e){var o=this;t.open({templateUrl:"/assets/html/compositeClasses/compositeClasses.tmpl.html",controller:"compositeClassesCtrl",resolve:{compositeClasses:["$route","$http","$modal",function(){return o.getJson("/groovyComposites",!1)}],compositeStepText:function(){return e}}})},this.newCollectionItem=function(t,e){13===t.which&&e.push({})},this.removeCollectionElement=function(t,e){t.splice(e,1)},this.buttonCssClass=function(t){return{"btn-success":t.$valid,"btn-danger":t.$invalid}},this.getRunnerProgressCss=function(t){return{"progress progress-striped active":t,progress:!t}},this.getStoryRunnerStatusText=function(t,e,o){return t?"Story run is in progress":e?o>0?"Story run was successful with "+o+" pending steps":"Story run was successful":"Story run failed"},this.getRunnerStatusCss=function(t,e,o){return{"progress-bar progress-bar-info":t,"progress-bar progress-bar-warning":!t&&e&&o,"progress-bar progress-bar-success":!t&&e&&!o,"progress-bar progress-bar-danger":!t&&!e}},this.openRunnerParametersModal=function(e){var o=this;return t.open({templateUrl:"/assets/html/runner/runnerParams.tmpl.html",controller:"runnerParamsCtrl",resolve:{data:["$route","$http","$modal",function(){return o.getJson("/steps/classes.json",!0)}],showGetApi:function(){return e}}})},this.openDir=function(t,e){if(".."===e){var o=t.rootPath.split("/");t.rootPath=o.slice(0,o.length-2).join("/"),""!==t.rootPath&&(t.rootPath+="/"),this.getStories(t,"")}else this.getStories(t,e)},this.getStories=function(t,o){var s=this;void 0===t.rootPath&&(t.rootPath=""),e.get("/stories/list.json?path="+t.rootPath+o).then(function(e){t.files=e.data,""!==o&&(t.rootPath+=o+"/")},function(t){s.openErrorModal(t.data)})},this.stepTextPattern=function(){return/^(Given|When|Then) .+$/},this.openConfirmationModal=function(e){return t.open({templateUrl:"/assets/html/confirmationModal.tmpl.html",controller:"modalCtrl",resolve:{data:function(){return e}}})},this.classNamePattern=function(){return/^[a-zA-Z_$][a-zA-Z\d_$]*$/},this.cssClass=function(t){return{"has-error":t.$invalid,"has-success":t.$valid&&t.$dirty}},this.deleteStory=function(t){var n=this,r=s.defer(),a={status:"Delete Story",message:"Are you sure you want to delete this story?"},i=this.openConfirmationModal(a);return i.result.then(function(){e.delete("/stories/story/"+t).then(function(){o.path("/page/stories/new/"),r.resolve("OK")},function(t){n.openErrorModal(t.data),r.reject("NOK")})},function(){r.reject("NOK")}),r.promise},this.getJson=function(t,o){var s=this;return e.get(t,{cache:o}).then(function(t){return t.data},function(t){s.openErrorModal(t.data)})},this.openErrorModal=function(e){t.open({templateUrl:"/assets/html/errorModal.tmpl.html",controller:"modalCtrl",resolve:{data:function(){return e}}})}}]).controller("modalCtrl",["$scope","$modalInstance","data",function(t,e,o){t.data=o,t.ok=function(){e.close("ok")},t.cancel=function(){e.dismiss("cancel")}}]).controller("storiesCtrl",["$scope","$http","$modal","$modalInstance","$location","$q","TcBddService",function(t,e,o,s,n,r,a){a.getStories(t,""),t.openDir=function(e){a.openDir(t,e)},t.close=function(){s.close()},t.viewStoryUrl=function(e){return"/page/stories/view/"+t.rootPath+e},t.allowToPrevDir=function(){return""!==t.rootPath},t.deleteStory=function(e,o){var s=t.rootPath+e+".story";a.deleteStory(s).then(function(){t.files.stories.splice(o,1)})},t.createDirectory=function(o){var s='{"path": "'+t.rootPath+o+'"}';e.post("/stories/dir.json",s).then(function(){t.files.dirs.push({name:o})},function(t){a.openErrorModal(t.data)})}}]),angular.module("configModule",[]).config(["$routeProvider","$locationProvider",function(t,e){e.html5Mode(!0),t.when("/page/stories/new/",{templateUrl:"/assets/html/story/story.tmpl.html",controller:"storyCtrl",resolve:{story:["$http","$modal","TcBddService",function(t,e,o){return o.getJson("/stories/story.json",!1)}],steps:["$http","$modal","TcBddService",function(t,e,o){return o.getJson("/steps/list.json",!0)}],groovyComposites:["$http","$modal","TcBddService",function(t,e,o){return o.getJson("/groovyComposites",!0)}]}}).when("/page/stories/new/:path*",{templateUrl:"/assets/html/story/story.tmpl.html",controller:"storyCtrl",resolve:{story:["$route","$http","$modal","TcBddService",function(t,e,o,s){return s.getJson("/stories/story.json?path="+t.current.params.path+".story",!1)}],steps:["$http","$modal","TcBddService",function(t,e,o){return o.getJson("/steps/list.json",!0)}],groovyComposites:["$http","$modal","TcBddService",function(t,e,o){return o.getJson("/groovyComposites",!0)}]}}).when("/page/stories/view/:path*",{templateUrl:"/assets/html/story/story.tmpl.html",controller:"storyCtrl",resolve:{story:["$route","$http","$modal","TcBddService",function(t,e,o,s){return s.getJson("/stories/story.json?path="+t.current.params.path+".story",!1)}],steps:["$http","$modal","TcBddService",function(t,e,o){return o.getJson("/steps/list.json",!0)}],groovyComposites:["$http","$modal","TcBddService",function(t,e,o){return o.getJson("/groovyComposites",!0)}]},reloadOnSearch:!1}).when("/page/composites/:className*",{templateUrl:"/assets/html/composites/composites.tmpl.html",controller:"compositesCtrl",resolve:{compositesClass:["$route","$http",function(t,e){var o=t.current.params.className,s="/groovyComposites/"+o;return e.get(s,{cache:!1}).then(function(t){return t.data},function(){var t=o.substring(0,o.lastIndexOf("."));return{"class":t,composites:[{stepText:"",compositeSteps:[{}]}],isNew:!0}})}],steps:["$http","$modal","TcBddService",function(t,e,o){return o.getJson("/steps/list.json",!1)}]}}).when("/page/runner/",{templateUrl:"/assets/html/runner/runner.tmpl.html",controller:"runnerCtrl",resolve:{data:["$route",function(t){return{reportsPath:t.current.params.path}}]}}).when("/page/login/",{templateUrl:"/assets/html/login/login.tmpl.html",controller:"loginCtrl"}).when("/page/loginWelcome/",{templateUrl:"/assets/html/login/loginWelcome.tmpl.html",controller:"loginWelcomeCtrl"}).otherwise({redirectTo:"/page/stories/new"})}]),angular.module("bodyModule",[]).controller("bodyCtrl",["$scope",function(){}]),angular.module("compositeClassesModule",[]).controller("compositeClassesCtrl",["$scope","$http","$modalInstance","compositeClasses","compositeStepText","TcBddService",function(t,e,o,s,n,r){t.compositeClasses=s,t.compositeStepText=n,t.close=function(){o.close()},t.compositeClassUrl=function(e,o){var s="/page/composites/";void 0!==e&&""!==e&&(s+=e+".");var n;return n=o.split(o.indexOf("/")>=0?"/":"\\"),s+=n[n.length-1],void 0!==t.compositeStepText&&""!==t.compositeStepText&&(s+="?stepText="+t.compositeStepText),s},t.compositeClassText=function(t){var e;e=t.split(t.indexOf("/")>=0?"/":"\\");var o=e[e.length-1];return o.indexOf(".")>=0&&(o=o.substr(0,o.lastIndexOf("."))),o},t.classNamePattern=r.classNamePattern,t.cssClass=r.cssClass,t.data={"class":""}}]),angular.module("compositesModule",[]).controller("compositesCtrl",["$scope","$http","$modal","$location","$cookieStore","compositesClass","steps","TcBddService",function(t,e,o,s,n,r,a,i){t.addNewComposite=function(){t.composite={stepText:"",compositeSteps:[{}]},t.compositesClass.composites.push(t.composite)},t.addStepTextParam=function(){void 0!==s.search().stepText&&""!==s.search().stepText&&t.compositesClass.composites.push({stepText:s.search().stepText,compositeSteps:[]})},t.addNewCompositeStep=function(){t.composite.compositeSteps.push({})},t.setLastComposite=function(){if(void 0!==t.compositesClass){var e=t.compositesClass.composites.length;t.composite=t.compositesClass.composites[e-1]}else t.composite={}},t.compositesClass=r,t.addStepTextParam(),t.originalCompositesClass=angular.copy(r),t.setLastComposite(),t.steps=a,t.classNamePattern=i.classNamePattern,t.stepTextPattern=i.stepTextPattern,t.cssClass=i.cssClass,t.buttonCssClass=function(t,e){return i.buttonCssClass(t.$valid?e:t)},t.openComposite=function(e){t.composite=e},t.newCollectionItem=i.newCollectionItem,t.removeCollectionElement=i.removeCollectionElement,t.revertCompositesClass=function(){t.compositesClass=angular.copy(t.originalCompositesClass),t.composite=t.compositesClass.composites[0]},t.canRevertCompositesClass=function(){return!angular.equals(t.compositesClass,t.originalCompositesClass)},t.canSaveCompositesClass=function(e){var o=e.$valid,s=!angular.equals(t.compositesClass,t.originalCompositesClass),n=t.compositesClass.isNew;return(n||s)&&o},t.compositesAreValid=function(e){var o=e.$valid;return angular.forEach(t.compositesClass.composites,function(t){void 0===t.stepText||""===t.stepText?o=!1:(void 0===t.compositeSteps||0===t.compositeSteps.length)&&(o=!1)}),o},t.saveCompositesClass=function(){e.put("/groovyComposites",t.compositesClass).then(function(){t.deleteCompositesClassWithoutConfirmation(),s.path("/page/composites/"+t.compositesClass.class+".groovy"),t.compositesClass.isNew=!1,t.originalCompositesClass=angular.copy(t.compositesClass),n.put("compositeClass",t.compositesClass.class)},function(t){i.openErrorModal(t.data)})},t.canDeleteCompositesClass=function(){return!t.compositesClass.isNew},t.deleteCompositesClassWithoutConfirmation=function(){var o=t.compositesClass.class,s=t.originalCompositesClass.class;o!==s&&e.delete("/groovyComposites/"+s).then(function(){},function(t){i.openErrorModal(t.data)})},t.deleteCompositesClass=function(){var o={status:"Delete Composites Class",message:"Are you sure you want to delete this composites class?"},n=i.openConfirmationModal(o);n.result.then(function(){e.delete("/groovyComposites/"+t.originalCompositesClass.class).then(function(){s.path("/")},function(t){i.openErrorModal(t.data)})},function(){})},t.saveCompositesText=function(){return t.compositesClass.isNew?"Create New Composites":"Update Composites"}}]),angular.module("storyModule",[]).controller("storyCtrl",["$scope","$http","$modal","$location","$cookieStore","$q","$anchorScroll","$timeout","story","steps","groovyComposites","TcBddService",function(t,e,o,s,n,r,a,i,l,c,u,p){t.pendingSteps=[],t.setAction=function(){t.action=""!==t.story.name?"PUT":"POST"},t.expandPanels=function(){var e=!0;void 0===t.panelsExpanded?t.panelsExpanded=!1:(t.panelsExpanded=!t.panelsExpanded,e=t.panelsExpanded),t.panels={story:t.panelsExpanded,description:t.panelsExpanded,meta:t.panelsExpanded,narrative:t.panelsExpanded,givenStories:t.panelsExpanded,lifecycle:t.panelsExpanded,scenarios:e}},t.story=l,t.steps=c,t.groovyComposites=u,t.stepTypes=["GIVEN","WHEN","THEN"],t.storyFormClass="col-md-12",t.storyRunnerVisible=!1,t.storyRunnerInProgress=!1,t.storyRunnerSuccess=!0,t.expandPanels(),t.originalStory=angular.copy(l);var d=t.story.path.split("/");t.dirPath=d.slice(0,d.length-1).join("/"),""!==t.dirPath&&(t.dirPath+="/"),t.setAction(),t.cssClass=p.cssClass,t.buttonCssClass=p.buttonCssClass,t.canSaveStory=function(){var e=t.storyForm.$valid,o=!angular.equals(t.story,t.originalStory);return e&&o},t.stepTextPattern=p.stepTextPattern,t.saveStory=function(){if(t.canSaveStory())if(t.story.path=t.dirPath+t.story.name+".story","POST"===t.action){var o=t.dirPath.split("/"),n=o.slice(0,o.length-1).join("/");""!==n&&(n+="/"),e.post("/stories/story.json",t.story).then(function(){s.path("/page/stories/view/"+n+t.story.name),t.originalStory=angular.copy(t.story)},function(e){t.openErrorModal(e.data)})}else t.story.name!==t.originalStory.name&&(t.story.originalPath=t.originalStory.path),e.put("/stories/story.json",t.story).then(function(){t.originalStory=angular.copy(t.story)},function(e){t.openErrorModal(e.data)})},t.canRunStory=function(){return t.storyForm.$valid&&!t.storyRunnerInProgress},t.runStory=function(){t.canRunStory()&&(t.saveStory(),t.openRunnerModal().result.then(function(o){var s=o.classes;t.storyFormClass="col-md-6",t.storyRunnerClass="col-md-6",t.storyRunnerVisible=!0,t.storyRunnerInProgress=!0,s.forEach(function(t){t.params.forEach(function(e){n.put(t.fullName+"."+e.key,e.value)})});var r={storyPaths:[{path:t.story.path}],classes:s,groovyComposites:t.groovyComposites};e.post("/runner/run.json",r).then(function(e){t.getReports(e.data.id)},function(e){t.storyRunnerSuccess=!1,t.storyRunnerInProgress=!1,t.openErrorModal(e.data)})},function(e){t.openErrorModal(e.data)}))},t.getReports=function(o){e.get("/api/v1/reporters/list/"+o).then(function(e){if("finished"!==e.data.status)t.storyRunnerInProgress=!0,i(function(){t.getReports(o)},5e3);else{var s=e.data.reports;t.reports=s,t.reports.id=o,t.setPendingSteps(s),t.storyRunnerInProgress=!1,t.storyRunnerSuccess=t.isStoryRunnerSuccess(s)}},function(e){"ID is NOT correct"===e.data.message?i(function(){t.getReports(o)},5e3):(t.storyRunnerInProgress=!1,p.openErrorModal(e.data))})},t.isStoryRunnerSuccess=function(t){var e=!0;return t.forEach(function(t){t.steps.forEach(function(t){"successful"!==t.status&&"pending"!==t.status&&"notPerformed"!==t.status&&(e=!1)})}),e},t.getReportUrl=function(t,e){return"/api/v1/reporters/get/"+t+"/"+e},t.openRunnerModal=function(){return p.openRunnerParametersModal(!1)},t.getRunnerProgressCss=function(){return p.getRunnerProgressCss(t.storyRunnerInProgress)},t.getRunnerStatusCss=function(){return p.getRunnerStatusCss(t.storyRunnerInProgress,t.storyRunnerSuccess,t.pendingSteps>0)},t.setPendingSteps=function(e){t.pendingSteps=[],e.forEach(function(e){e.steps.forEach(function(e){"pending"===e.status&&t.pendingSteps.push({text:e.text})})})},t.hasPendingSteps=function(){return void 0!==t.pendingSteps&&t.pendingSteps.length>0},t.getStoryRunnerStatusText=function(){return p.getStoryRunnerStatusText(t.storyRunnerInProgress,t.storyRunnerSuccess,t.pendingSteps.length)},t.removeCollectionElement=p.removeCollectionElement,t.addElement=function(t){t.push({})},t.addScenarioElement=function(t){t.push({title:"",meta:[],steps:[],examplesTable:""})},t.revertStory=function(){t.story=angular.copy(t.originalStory),t.storyForm.$setPristine()},t.canRevertStory=function(){return!angular.equals(t.story,t.originalStory)},t.canDeleteStory=function(){return"PUT"===t.action&&!t.storyRunnerInProgress},t.deleteStory=function(){var e=t.dirPath+t.story.name+".story";p.deleteStory(e)},t.stepEnterKey=p.newCollectionItem,t.clickPendingStep=function(t){var e=n.get("compositeClass");return void 0===e||""===e?p.openCompositeClass(t):s.search("stepText",t).path("/page/composites/"+e+".groovy")},t.openErrorModal=p.openErrorModal}]),angular.module("runnerModule",[]).controller("runnerCtrl",["$scope","$modal","$http","$location","$timeout","TcBddService",function(t,e,o,s,n,r){t.openRunnerSelector=function(){return e.open({templateUrl:"/assets/html/runner/runnerSelector.tmpl.html",controller:"runnerSelectorCtrl",resolve:{data:function(){return{}}}})},t.openRunner=function(){var e=t.openRunnerSelector();void 0!==e&&e.result.then(function(e){var s=[];e.dirs.forEach(function(t){s.push({path:t.path+"/**/*.story"})}),e.stories.forEach(function(t){s.push({path:t.path})}),r.openRunnerParametersModal(!0).result.then(function(e){var n=e.classes,r=e.action;o.get("/groovyComposites").then(function(e){var o=e.data;t.apiJson={storyPaths:s,classes:n,groovyComposites:o},"run"===r?(t.run(t.apiJson),t.showApi=!1):t.showApi=!0})})})},t.run=function(e){var s="/api/v1/reporters/get/";t.reportsUrl="",t.storyRunnerSuccess=!1,t.showRunnerProgress=!0,o.post("/runner/run.json",e).then(function(e){var o=e.data;"OK"===o.status?(t.reportsUrl=s+o.reportsPath,t.storyRunnerInProgress=!0,t.getReports(o.id)):"FAILED"===o.status?(t.reportsUrl=s+o.reportsPath,t.storyRunnerInProgress=!1):r.openErrorModal(o)},function(e){t.storyRunnerInProgress=!1,t.storyRunnerSuccess=!1,r.openErrorModal(e.data)})},t.getReports=function(e){o.get("/api/v1/reporters/list/"+e).then(function(o){t.reports=o.data,"finished"!==t.reports.status?(t.showRunnerProgress=!0,n(function(){t.getReports(e)},5e3)):t.showRunnerProgress=!1},function(o){"ID is NOT correct"===o.data.message?n(function(){t.getReports(e)},5e3):(t.showRunnerProgress=!1,r.openErrorModal(o.data))})},t.getRunnerStatusCss=function(){return r.getRunnerStatusCss(t.storyRunnerInProgress,t.storyRunnerSuccess,t.pendingSteps>0)},t.getStoryRunnerStatusText=function(){return t.storyRunnerInProgress?"Stories run is in progress":"Stories run is finished"},t.getRunnerProgressCss=function(){return r.getRunnerProgressCss(t.storyRunnerInProgress)},t.init=function(){t.storyRunnerInProgress=!1,t.storyRunnerSuccess=!1,t.showRunnerProgress=!1,t.pendingSteps=[],t.reportsUrl="",t.openRunner(),t.showApi=!1},t.apiUrl=function(){return s.protocol()+"://"+s.host()+":"+s.port()+"/runner/run.json"},t.init()}]).controller("runnerSelectorCtrl",["$scope","$http","$modal","$modalInstance","TcBddService",function(t,e,o,s,n){t.files={dirs:[],stories:[]},n.getStories(t,""),t.openDir=function(e){n.openDir(t,e)},t.cancelRunnerSelector=function(){s.dismiss("cancel")},t.okRunnerSelector=function(){var e={dirs:[],stories:[]};angular.forEach(t.files.dirs,function(o){o.selected&&e.dirs.push({path:t.rootPath+o.name})}),angular.forEach(t.files.stories,function(o){o.selected&&e.stories.push({path:t.rootPath+o.name+".story"})}),s.close(e)},t.allowToPrevDir=function(){return""!==t.rootPath},t.canContinue=function(){var e=!1;return angular.forEach(t.files.dirs,function(t){t.selected&&(e=!0)}),e||angular.forEach(t.files.stories,function(t){t.selected&&(e=!0)}),e}}]).controller("runnerParamsCtrl",["$scope","$modalInstance","$cookieStore","data","showGetApi",function(t,e,o,s,n){t.classes=s.classes,t.paramArray=[],t.setParams=function(){t.classes.forEach(function(t){t.params.forEach(function(e){if(void 0!==e.value&&""!==e.value)e.disabled=!0;else{e.disabled=!1;try{e.value=o.get(t.fullName+"."+e.key)}catch(s){console.log("Could not retrieve cookie "+t.fullName+"."+e.key),console.log(s.message)}}})})},t.hasOptions=function(t){return t?t.length>0:!1},t.hasParams=function(t){return void 0!==t.params&&t.params.length>0},t.ok=function(){e.close({action:"run",classes:t.classes})},t.cancel=function(){e.dismiss("cancel")},t.showGetApi=function(){return n},t.getApi=function(){e.close({action:"api",classes:t.classes})},t.paramElementId=function(t,e){var o=t.charAt(0).toLowerCase()+t.slice(1),s=e.charAt(0).toUpperCase()+e.slice(1);return o+s},t.setParams()}]),angular.module("loginModule",[]).controller("loginCtrl",["$scope","$location","TcBddService",function(t,e,o){t.init=function(){t.users=[]},t.cssClass=o.cssClass,t.buttonCssClass=o.buttonCssClass,t.canLogin=function(){return t.loginForm.$valid},t.register=function(){t.users.push(t.user),t.user={}},t.delete=function(){angular.forEach(t.users,function(e,o){e.username===t.user.username&&(t.users.splice(o,1),t.user={})})},t.login=function(){angular.forEach(t.users,function(o){o.username===t.user.username&&e.path("/page/loginWelcome")}),t.user.notRegistered=!0},t.init()}]).controller("loginWelcomeCtrl",["$scope",function(){}]),angular.module("topMenuModule",[]).controller("topMenuController",["$scope","$modal","$location","TcBddService",function(t,e,o,s){t.openStory=function(){e.open({templateUrl:"/assets/html/stories.tmpl.html",controller:"storiesCtrl",resolve:{data:function(){return{}}}})},t.openCompositeClass=function(){s.openCompositeClass()},t.getTitle=function(){var t=o.path();return 0===t.indexOf("/page/stories/view/")?"View Story":0===t.indexOf("/page/stories/new/")?"New Story":0===t.indexOf("/page/composites/")?"Composites":0===t.indexOf("/page/reports/")?"Reports":0===t.indexOf("/page/login/")?"Login":0===t.indexOf("/page/loginWelcome/")?"Welcome":""}}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBwLmpzIiwic291cmNlcyI6WyJpbmRleC5qcyIsImNvbmZpZy5qcyIsImNvbW1vblxcYm9keS5jdHJsLmpzIiwiY29tcG9zaXRlQ2xhc3Nlc1xcY29tcG9zaXRlQ2xhc3Nlcy5jdHJsLmpzIiwiY29tcG9zaXRlc1xcY29tcG9zaXRlcy5jdHJsLmpzIiwic3RvcnlcXHN0b3J5LmN0cmwuanMiLCJydW5uZXJcXHJ1bm5lci5jdHJsLmpzIiwibG9naW5cXGxvZ2luLmN0cmwuanMiLCJ0b3BNZW51XFx0b3BNZW51LmN0cmwuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsUUFBQSxPQUFBLGlCQUNBLFVBQ0EsWUFDQSxlQUNBLGNBQ0EsZUFDQSxhQUNBLGdCQUNBLGNBQ0EseUJBQ0EsbUJBQ0EsZUFDQSxnQkFFQSxRQUFBLGdCQUFBLFNBQUEsUUFBQSxZQUFBLEtBQUEsU0FBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLEtBQUEsbUJBQUEsU0FBQSxHQUNBLEdBQUEsR0FBQSxJQUNBLEdBQUEsTUFDQSxZQUFBLDJEQUNBLFdBQUEsdUJBQ0EsU0FDQSxrQkFBQSxTQUFBLFFBQUEsU0FBQSxXQUNBLE1BQUEsR0FBQSxRQUFBLHFCQUFBLEtBRUEsa0JBQUEsV0FDQSxNQUFBLFFBS0EsS0FBQSxrQkFBQSxTQUFBLEVBQUEsR0FDQSxLQUFBLEVBQUEsT0FDQSxFQUFBLFVBR0EsS0FBQSx3QkFBQSxTQUFBLEVBQUEsR0FDQSxFQUFBLE9BQUEsRUFBQSxJQUVBLEtBQUEsZUFBQSxTQUFBLEdBQ0EsT0FDQSxjQUFBLEVBQUEsT0FDQSxhQUFBLEVBQUEsV0FHQSxLQUFBLHFCQUFBLFNBQUEsR0FDQSxPQUNBLG1DQUFBLEVBQ0EsVUFBQSxJQUdBLEtBQUEseUJBQUEsU0FBQSxFQUFBLEVBQUEsR0FDQSxNQUFBLEdBQ0EsMkJBQ0EsRUFDQSxFQUFBLEVBQ0EsaUNBQUEsRUFBQSxpQkFFQSwyQkFHQSxvQkFHQSxLQUFBLG1CQUFBLFNBQUEsRUFBQSxFQUFBLEdBQ0EsT0FDQSxpQ0FBQSxFQUNBLHFDQUFBLEdBQUEsR0FBQSxFQUNBLHFDQUFBLEdBQUEsSUFBQSxFQUNBLG9DQUFBLElBQUEsSUFHQSxLQUFBLDBCQUFBLFNBQUEsR0FDQSxHQUFBLEdBQUEsSUFDQSxPQUFBLEdBQUEsTUFDQSxZQUFBLDZDQUNBLFdBQUEsbUJBQ0EsU0FDQSxNQUFBLFNBQUEsUUFBQSxTQUFBLFdBQ0EsTUFBQSxHQUFBLFFBQUEsdUJBQUEsS0FFQSxXQUFBLFdBQ0EsTUFBQSxRQUtBLEtBQUEsUUFBQSxTQUFBLEVBQUEsR0FDQSxHQUFBLE9BQUEsRUFBQSxDQUNBLEdBQUEsR0FBQSxFQUFBLFNBQUEsTUFBQSxJQUNBLEdBQUEsU0FBQSxFQUFBLE1BQUEsRUFBQSxFQUFBLE9BQUEsR0FBQSxLQUFBLEtBQ0EsS0FBQSxFQUFBLFdBQ0EsRUFBQSxVQUFBLEtBRUEsS0FBQSxXQUFBLEVBQUEsUUFFQSxNQUFBLFdBQUEsRUFBQSxJQUdBLEtBQUEsV0FBQSxTQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsSUFDQSxVQUFBLEVBQUEsV0FDQSxFQUFBLFNBQUEsSUFFQSxFQUFBLElBQUEsMkJBQUEsRUFBQSxTQUFBLEdBQUEsS0FBQSxTQUFBLEdBQ0EsRUFBQSxNQUFBLEVBQUEsS0FDQSxLQUFBLElBQ0EsRUFBQSxVQUFBLEVBQUEsTUFFQSxTQUFBLEdBQ0EsRUFBQSxlQUFBLEVBQUEsU0FHQSxLQUFBLGdCQUFBLFdBQ0EsTUFBQSwwQkFFQSxLQUFBLHNCQUFBLFNBQUEsR0FDQSxNQUFBLEdBQUEsTUFDQSxZQUFBLDJDQUNBLFdBQUEsWUFDQSxTQUNBLEtBQUEsV0FDQSxNQUFBLFFBS0EsS0FBQSxpQkFBQSxXQUNBLE1BQUEsNkJBRUEsS0FBQSxTQUFBLFNBQUEsR0FDQSxPQUNBLFlBQUEsRUFBQSxTQUNBLGNBQUEsRUFBQSxRQUFBLEVBQUEsU0FJQSxLQUFBLFlBQUEsU0FBQSxHQUNBLEdBQUEsR0FBQSxLQUNBLEVBQUEsRUFBQSxRQUNBLEdBQUEsT0FBQSxlQUFBLFFBQUEsK0NBQ0EsRUFBQSxLQUFBLHNCQUFBLEVBWUEsT0FYQSxHQUFBLE9BQUEsS0FBQSxXQUNBLEVBQUEsT0FBQSxrQkFBQSxHQUFBLEtBQUEsV0FDQSxFQUFBLEtBQUEsc0JBQ0EsRUFBQSxRQUFBLE9BQ0EsU0FBQSxHQUNBLEVBQUEsZUFBQSxFQUFBLE1BQ0EsRUFBQSxPQUFBLFVBRUEsV0FDQSxFQUFBLE9BQUEsU0FFQSxFQUFBLFNBRUEsS0FBQSxRQUFBLFNBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxJQUNBLE9BQUEsR0FBQSxJQUFBLEdBQUEsTUFBQSxJQUFBLEtBQUEsU0FBQSxHQUNBLE1BQUEsR0FBQSxNQUNBLFNBQUEsR0FDQSxFQUFBLGVBQUEsRUFBQSxTQUdBLEtBQUEsZUFBQSxTQUFBLEdBQ0EsRUFBQSxNQUNBLFlBQUEsb0NBQ0EsV0FBQSxZQUNBLFNBQ0EsS0FBQSxXQUNBLE1BQUEsV0FNQSxXQUFBLGFBQUEsU0FBQSxpQkFBQSxPQUFBLFNBQUEsRUFBQSxFQUFBLEdBQ0EsRUFBQSxLQUFBLEVBQ0EsRUFBQSxHQUFBLFdBQ0EsRUFBQSxNQUFBLE9BRUEsRUFBQSxPQUFBLFdBQ0EsRUFBQSxRQUFBLGNBR0EsV0FBQSxlQUFBLFNBQUEsUUFBQSxTQUFBLGlCQUFBLFlBQUEsS0FBQSxlQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxFQUFBLFdBQUEsRUFBQSxJQUNBLEVBQUEsUUFBQSxTQUFBLEdBQ0EsRUFBQSxRQUFBLEVBQUEsSUFFQSxFQUFBLE1BQUEsV0FDQSxFQUFBLFNBRUEsRUFBQSxhQUFBLFNBQUEsR0FDQSxNQUFBLHNCQUFBLEVBQUEsU0FBQSxHQUVBLEVBQUEsZUFBQSxXQUNBLE1BQUEsS0FBQSxFQUFBLFVBR0EsRUFBQSxZQUFBLFNBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLFNBQUEsRUFBQSxRQUNBLEdBQUEsWUFBQSxHQUFBLEtBQUEsV0FDQSxFQUFBLE1BQUEsUUFBQSxPQUFBLEVBQUEsTUFJQSxFQUFBLGdCQUFBLFNBQUEsR0FDQSxHQUFBLEdBQUEsYUFBQSxFQUFBLFNBQUEsRUFBQSxJQUNBLEdBQUEsS0FBQSxvQkFBQSxHQUFBLEtBQUEsV0FDQSxFQUFBLE1BQUEsS0FBQSxNQUFBLEtBQUEsS0FDQSxTQUFBLEdBQ0EsRUFBQSxlQUFBLEVBQUEsWUNsTkEsUUFBQSxPQUFBLG1CQUNBLFFBQUEsaUJBQUEsb0JBQUEsU0FBQSxFQUFBLEdBQ0EsRUFBQSxXQUFBLEdBQ0EsRUFFQSxLQUFBLHNCQUNBLFlBQUEscUNBQ0EsV0FBQSxZQUVBLFNBQ0EsT0FBQSxRQUFBLFNBQUEsZUFBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLE1BQUEsR0FBQSxRQUFBLHVCQUFBLEtBRUEsT0FBQSxRQUFBLFNBQUEsZUFBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLE1BQUEsR0FBQSxRQUFBLG9CQUFBLEtBRUEsa0JBQUEsUUFBQSxTQUFBLGVBQUEsU0FBQSxFQUFBLEVBQUEsR0FDQSxNQUFBLEdBQUEsUUFBQSxxQkFBQSxRQUlBLEtBQUEsNEJBQ0EsWUFBQSxxQ0FDQSxXQUFBLFlBRUEsU0FDQSxPQUFBLFNBQUEsUUFBQSxTQUFBLGVBQUEsU0FBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLE1BQUEsR0FBQSxRQUFBLDRCQUFBLEVBQUEsUUFBQSxPQUFBLEtBQUEsVUFBQSxLQUVBLE9BQUEsUUFBQSxTQUFBLGVBQUEsU0FBQSxFQUFBLEVBQUEsR0FDQSxNQUFBLEdBQUEsUUFBQSxvQkFBQSxLQUVBLGtCQUFBLFFBQUEsU0FBQSxlQUFBLFNBQUEsRUFBQSxFQUFBLEdBQ0EsTUFBQSxHQUFBLFFBQUEscUJBQUEsUUFJQSxLQUFBLDZCQUNBLFlBQUEscUNBQ0EsV0FBQSxZQUVBLFNBQ0EsT0FBQSxTQUFBLFFBQUEsU0FBQSxlQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxNQUFBLEdBQUEsUUFBQSw0QkFBQSxFQUFBLFFBQUEsT0FBQSxLQUFBLFVBQUEsS0FFQSxPQUFBLFFBQUEsU0FBQSxlQUFBLFNBQUEsRUFBQSxFQUFBLEdBQ0EsTUFBQSxHQUFBLFFBQUEsb0JBQUEsS0FFQSxrQkFBQSxRQUFBLFNBQUEsZUFBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLE1BQUEsR0FBQSxRQUFBLHFCQUFBLE1BR0EsZ0JBQUEsSUFFQSxLQUFBLGdDQUNBLFlBQUEsK0NBQ0EsV0FBQSxpQkFFQSxTQUNBLGlCQUFBLFNBQUEsUUFBQSxTQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxRQUFBLE9BQUEsVUFDQSxFQUFBLHFCQUFBLENBQ0EsT0FBQSxHQUFBLElBQUEsR0FBQSxPQUFBLElBQUEsS0FBQSxTQUFBLEdBQ0EsTUFBQSxHQUFBLE1BQ0EsV0FDQSxHQUFBLEdBQUEsRUFBQSxVQUFBLEVBQUEsRUFBQSxZQUFBLEtBQ0EsUUFDQSxRQUFBLEVBQ0EsYUFBQSxTQUFBLEdBQUEsc0JBQ0EsT0FBQSxPQUlBLE9BQUEsUUFBQSxTQUFBLGVBQUEsU0FBQSxFQUFBLEVBQUEsR0FDQSxNQUFBLEdBQUEsUUFBQSxvQkFBQSxRQUlBLEtBQUEsaUJBQ0EsWUFBQSx1Q0FDQSxXQUFBLGFBRUEsU0FDQSxNQUFBLFNBQUEsU0FBQSxHQUNBLE9BQUEsWUFBQSxFQUFBLFFBQUEsT0FBQSxXQUlBLEtBQUEsZ0JBQ0EsWUFBQSxxQ0FDQSxXQUFBLGNBRUEsS0FBQSx1QkFDQSxZQUFBLDRDQUNBLFdBQUEscUJBR0EsV0FDQSxXQUFBLHlCQ2xHQSxRQUFBLE9BQUEsaUJBQ0EsV0FBQSxZQUFBLFNBQUEsZUNEQSxRQUFBLE9BQUEsNkJBQ0EsV0FBQSx3QkFBQSxTQUFBLFFBQUEsaUJBQUEsbUJBQUEsb0JBQUEsZUFBQSxTQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLEVBQUEsaUJBQUEsRUFDQSxFQUFBLGtCQUFBLEVBRUEsRUFBQSxNQUFBLFdBQ0EsRUFBQSxTQUVBLEVBQUEsa0JBQUEsU0FBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLG1CQUNBLFVBQUEsR0FBQSxLQUFBLElBQ0EsR0FBQSxFQUFBLElBRUEsSUFBQSxFQVVBLE9BUkEsR0FBQSxFQUFBLE1BREEsRUFBQSxRQUFBLE1BQUEsRUFDQSxJQUVBLE1BRUEsR0FBQSxFQUFBLEVBQUEsT0FBQSxHQUNBLFNBQUEsRUFBQSxtQkFBQSxLQUFBLEVBQUEsb0JBQ0EsR0FBQSxhQUFBLEVBQUEsbUJBRUEsR0FFQSxFQUFBLG1CQUFBLFNBQUEsR0FDQSxHQUFBLEVBRUEsR0FBQSxFQUFBLE1BREEsRUFBQSxRQUFBLE1BQUEsRUFDQSxJQUVBLEtBRUEsSUFBQSxHQUFBLEVBQUEsRUFBQSxPQUFBLEVBSUEsT0FIQSxHQUFBLFFBQUEsTUFBQSxJQUNBLEVBQUEsRUFBQSxPQUFBLEVBQUEsRUFBQSxZQUFBLE9BRUEsR0FFQSxFQUFBLGlCQUFBLEVBQUEsaUJBRUEsRUFBQSxTQUFBLEVBQUEsU0FDQSxFQUFBLE1BQUEsUUFBQSxPQ3pDQSxRQUFBLE9BQUEsdUJBQ0EsV0FBQSxrQkFBQSxTQUFBLFFBQUEsU0FBQSxZQUFBLGVBQUEsa0JBQUEsUUFBQSxlQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLEVBQUEsZ0JBQUEsV0FDQSxFQUFBLFdBQUEsU0FBQSxHQUFBLHFCQUNBLEVBQUEsZ0JBQUEsV0FBQSxLQUFBLEVBQUEsWUFFQSxFQUFBLGlCQUFBLFdBQ0EsU0FBQSxFQUFBLFNBQUEsVUFBQSxLQUFBLEVBQUEsU0FBQSxVQUNBLEVBQUEsZ0JBQUEsV0FBQSxNQUFBLFNBQUEsRUFBQSxTQUFBLFNBQUEscUJBR0EsRUFBQSxvQkFBQSxXQUNBLEVBQUEsVUFBQSxlQUFBLFVBRUEsRUFBQSxpQkFBQSxXQUNBLEdBQUEsU0FBQSxFQUFBLGdCQUFBLENBQ0EsR0FBQSxHQUFBLEVBQUEsZ0JBQUEsV0FBQSxNQUNBLEdBQUEsVUFBQSxFQUFBLGdCQUFBLFdBQUEsRUFBQSxPQUVBLEdBQUEsY0FHQSxFQUFBLGdCQUFBLEVBQ0EsRUFBQSxtQkFDQSxFQUFBLHdCQUFBLFFBQUEsS0FBQSxHQUNBLEVBQUEsbUJBQ0EsRUFBQSxNQUFBLEVBQ0EsRUFBQSxpQkFBQSxFQUFBLGlCQUNBLEVBQUEsZ0JBQUEsRUFBQSxnQkFDQSxFQUFBLFNBQUEsRUFBQSxTQUNBLEVBQUEsZUFBQSxTQUFBLEVBQUEsR0FDQSxNQUdBLEdBQUEsZUFIQSxFQUFBLE9BR0EsRUFGQSxJQUtBLEVBQUEsY0FBQSxTQUFBLEdBQ0EsRUFBQSxVQUFBLEdBRUEsRUFBQSxrQkFBQSxFQUFBLGtCQUNBLEVBQUEsd0JBQUEsRUFBQSx3QkFDQSxFQUFBLHNCQUFBLFdBQ0EsRUFBQSxnQkFBQSxRQUFBLEtBQUEsRUFBQSx5QkFDQSxFQUFBLFVBQUEsRUFBQSxnQkFBQSxXQUFBLElBRUEsRUFBQSx5QkFBQSxXQUNBLE9BQUEsUUFBQSxPQUFBLEVBQUEsZ0JBQUEsRUFBQSwwQkFFQSxFQUFBLHVCQUFBLFNBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxPQUNBLEdBQUEsUUFBQSxPQUFBLEVBQUEsZ0JBQUEsRUFBQSx5QkFDQSxFQUFBLEVBQUEsZ0JBQUEsS0FDQSxRQUFBLEdBQUEsSUFBQSxHQUVBLEVBQUEsbUJBQUEsU0FBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLE1BUUEsT0FQQSxTQUFBLFFBQUEsRUFBQSxnQkFBQSxXQUFBLFNBQUEsR0FDQSxTQUFBLEVBQUEsVUFBQSxLQUFBLEVBQUEsU0FDQSxHQUFBLEdBQ0EsU0FBQSxFQUFBLGdCQUFBLElBQUEsRUFBQSxlQUFBLFVBQ0EsR0FBQSxLQUdBLEdBRUEsRUFBQSxvQkFBQSxXQUNBLEVBQUEsSUFBQSxvQkFBQSxFQUFBLGlCQUFBLEtBQUEsV0FDQSxFQUFBLDJDQUNBLEVBQUEsS0FBQSxvQkFBQSxFQUFBLGdCQUFBLE1BQUEsV0FDQSxFQUFBLGdCQUFBLE9BQUEsRUFDQSxFQUFBLHdCQUFBLFFBQUEsS0FBQSxFQUFBLGlCQUNBLEVBQUEsSUFBQSxpQkFBQSxFQUFBLGdCQUFBLFFBQ0EsU0FBQSxHQUNBLEVBQUEsZUFBQSxFQUFBLFNBR0EsRUFBQSx5QkFBQSxXQUNBLE9BQUEsRUFBQSxnQkFBQSxPQUlBLEVBQUEseUNBQUEsV0FDQSxHQUFBLEdBQUEsRUFBQSxnQkFBQSxNQUNBLEVBQUEsRUFBQSx3QkFBQSxLQUNBLEtBQUEsR0FDQSxFQUFBLE9BQUEscUJBQUEsR0FBQSxLQUFBLGFBQ0EsU0FBQSxHQUNBLEVBQUEsZUFBQSxFQUFBLFNBS0EsRUFBQSxzQkFBQSxXQUNBLEdBQUEsSUFBQSxPQUFBLDBCQUFBLFFBQUEsMERBQ0EsRUFBQSxFQUFBLHNCQUFBLEVBQ0EsR0FBQSxPQUFBLEtBQUEsV0FDQSxFQUFBLE9BQUEscUJBQUEsRUFBQSx3QkFBQSxPQUFBLEtBQUEsV0FDQSxFQUFBLEtBQUEsTUFDQSxTQUFBLEdBQ0EsRUFBQSxlQUFBLEVBQUEsU0FFQSxlQUlBLEVBQUEsbUJBQUEsV0FDQSxNQUFBLEdBQUEsZ0JBQUEsTUFDQSx3QkFFQSx3QkM5R0EsUUFBQSxPQUFBLGtCQUNBLFdBQUEsYUFBQSxTQUFBLFFBQUEsU0FBQSxZQUFBLGVBQUEsS0FBQSxnQkFBQSxXQUFBLFFBQUEsUUFBQSxtQkFBQSxlQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsRUFBQSxnQkFDQSxFQUFBLFVBQUEsV0FFQSxFQUFBLE9BREEsS0FBQSxFQUFBLE1BQUEsS0FDQSxNQUVBLFFBR0EsRUFBQSxhQUFBLFdBQ0EsR0FBQSxJQUFBLENBQ0EsVUFBQSxFQUFBLGVBQ0EsRUFBQSxnQkFBQSxHQUVBLEVBQUEsZ0JBQUEsRUFBQSxlQUNBLEVBQUEsRUFBQSxnQkFFQSxFQUFBLFFBQ0EsTUFBQSxFQUFBLGVBQ0EsWUFBQSxFQUFBLGVBQ0EsS0FBQSxFQUFBLGVBQ0EsVUFBQSxFQUFBLGVBQ0EsYUFBQSxFQUFBLGVBQ0EsVUFBQSxFQUFBLGVBQ0EsVUFBQSxJQUdBLEVBQUEsTUFBQSxFQUNBLEVBQUEsTUFBQSxFQUNBLEVBQUEsaUJBQUEsRUFDQSxFQUFBLFdBQUEsUUFBQSxPQUFBLFFBQ0EsRUFBQSxlQUFBLFlBQ0EsRUFBQSxvQkFBQSxFQUNBLEVBQUEsdUJBQUEsRUFDQSxFQUFBLG9CQUFBLEVBQ0EsRUFBQSxlQUNBLEVBQUEsY0FBQSxRQUFBLEtBQUEsRUFDQSxJQUFBLEdBQUEsRUFBQSxNQUFBLEtBQUEsTUFBQSxJQUNBLEdBQUEsUUFBQSxFQUFBLE1BQUEsRUFBQSxFQUFBLE9BQUEsR0FBQSxLQUFBLEtBQ0EsS0FBQSxFQUFBLFVBQ0EsRUFBQSxTQUFBLEtBRUEsRUFBQSxZQUNBLEVBQUEsU0FBQSxFQUFBLFNBQ0EsRUFBQSxlQUFBLEVBQUEsZUFDQSxFQUFBLGFBQUEsV0FDQSxHQUFBLEdBQUEsRUFBQSxVQUFBLE9BQ0EsR0FBQSxRQUFBLE9BQUEsRUFBQSxNQUFBLEVBQUEsY0FDQSxPQUFBLElBQUEsR0FFQSxFQUFBLGdCQUFBLEVBQUEsZ0JBRUEsRUFBQSxVQUFBLFdBQ0EsR0FBQSxFQUFBLGVBRUEsR0FEQSxFQUFBLE1BQUEsS0FBQSxFQUFBLFFBQUEsRUFBQSxNQUFBLEtBQUEsU0FDQSxTQUFBLEVBQUEsT0FBQSxDQUNBLEdBQUEsR0FBQSxFQUFBLFFBQUEsTUFBQSxLQUNBLEVBQUEsRUFBQSxNQUFBLEVBQUEsRUFBQSxPQUFBLEdBQUEsS0FBQSxJQUNBLE1BQUEsSUFDQSxHQUFBLEtBRUEsRUFBQSxLQUFBLHNCQUFBLEVBQUEsT0FBQSxLQUFBLFdBQ0EsRUFBQSxLQUFBLHNCQUFBLEVBQUEsRUFBQSxNQUFBLE1BQ0EsRUFBQSxjQUFBLFFBQUEsS0FBQSxFQUFBLFFBQ0EsU0FBQSxHQUNBLEVBQUEsZUFBQSxFQUFBLFlBR0EsR0FBQSxNQUFBLE9BQUEsRUFBQSxjQUFBLE9BQ0EsRUFBQSxNQUFBLGFBQUEsRUFBQSxjQUFBLE1BRUEsRUFBQSxJQUFBLHNCQUFBLEVBQUEsT0FBQSxLQUFBLFdBQ0EsRUFBQSxjQUFBLFFBQUEsS0FBQSxFQUFBLFFBQ0EsU0FBQSxHQUNBLEVBQUEsZUFBQSxFQUFBLFNBS0EsRUFBQSxZQUFBLFdBQ0EsTUFBQSxHQUFBLFVBQUEsU0FBQSxFQUFBLHVCQUdBLEVBQUEsU0FBQSxXQUNBLEVBQUEsZ0JBQ0EsRUFBQSxZQUNBLEVBQUEsa0JBQUEsT0FBQSxLQUFBLFNBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxPQUNBLEdBQUEsZUFBQSxXQUNBLEVBQUEsaUJBQUEsV0FDQSxFQUFBLG9CQUFBLEVBQ0EsRUFBQSx1QkFBQSxFQUNBLEVBQUEsUUFBQSxTQUFBLEdBQ0EsRUFBQSxPQUFBLFFBQUEsU0FBQSxHQUNBLEVBQUEsSUFBQSxFQUFBLFNBQUEsSUFBQSxFQUFBLElBQUEsRUFBQSxVQUdBLElBQUEsSUFDQSxhQUFBLEtBQUEsRUFBQSxNQUFBLE9BQ0EsUUFBQSxFQUNBLGlCQUFBLEVBQUEsaUJBRUEsR0FBQSxLQUFBLG1CQUFBLEdBQUEsS0FBQSxTQUFBLEdBQ0EsRUFBQSxXQUFBLEVBQUEsS0FBQSxLQUNBLFNBQUEsR0FDQSxFQUFBLG9CQUFBLEVBQ0EsRUFBQSx1QkFBQSxFQUNBLEVBQUEsZUFBQSxFQUFBLFNBRUEsU0FBQSxHQUNBLEVBQUEsZUFBQSxFQUFBLFVBSUEsRUFBQSxXQUFBLFNBQUEsR0FDQSxFQUFBLElBQUEsMEJBQUEsR0FBQSxLQUFBLFNBQUEsR0FDQSxHQUFBLGFBQUEsRUFBQSxLQUFBLE9BQ0EsRUFBQSx1QkFBQSxFQUNBLEVBQUEsV0FDQSxFQUFBLFdBQUEsSUFDQSxTQUNBLENBQ0EsR0FBQSxHQUFBLEVBQUEsS0FBQSxPQUNBLEdBQUEsUUFBQSxFQUNBLEVBQUEsUUFBQSxHQUFBLEVBQ0EsRUFBQSxnQkFBQSxHQUNBLEVBQUEsdUJBQUEsRUFDQSxFQUFBLG1CQUFBLEVBQUEscUJBQUEsS0FFQSxTQUFBLEdBQ0Esc0JBQUEsRUFBQSxLQUFBLFFBQ0EsRUFBQSxXQUNBLEVBQUEsV0FBQSxJQUNBLE1BRUEsRUFBQSx1QkFBQSxFQUNBLEVBQUEsZUFBQSxFQUFBLFVBSUEsRUFBQSxxQkFBQSxTQUFBLEdBQ0EsR0FBQSxJQUFBLENBUUEsT0FQQSxHQUFBLFFBQUEsU0FBQSxHQUNBLEVBQUEsTUFBQSxRQUFBLFNBQUEsR0FDQSxlQUFBLEVBQUEsUUFBQSxZQUFBLEVBQUEsUUFBQSxpQkFBQSxFQUFBLFNBQ0EsR0FBQSxPQUlBLEdBRUEsRUFBQSxhQUFBLFNBQUEsRUFBQSxHQUNBLE1BQUEseUJBQUEsRUFBQSxJQUFBLEdBRUEsRUFBQSxnQkFBQSxXQUNBLE1BQUEsR0FBQSwyQkFBQSxJQUVBLEVBQUEscUJBQUEsV0FDQSxNQUFBLEdBQUEscUJBQUEsRUFBQSx3QkFFQSxFQUFBLG1CQUFBLFdBQ0EsTUFBQSxHQUFBLG1CQUNBLEVBQUEsc0JBQ0EsRUFBQSxtQkFDQSxFQUFBLGFBQUEsSUFHQSxFQUFBLGdCQUFBLFNBQUEsR0FDQSxFQUFBLGdCQUNBLEVBQUEsUUFBQSxTQUFBLEdBQ0EsRUFBQSxNQUFBLFFBQUEsU0FBQSxHQUNBLFlBQUEsRUFBQSxRQUNBLEVBQUEsYUFBQSxNQUFBLEtBQUEsRUFBQSxZQU1BLEVBQUEsZ0JBQUEsV0FDQSxNQUFBLFVBQUEsRUFBQSxjQUFBLEVBQUEsYUFBQSxPQUFBLEdBRUEsRUFBQSx5QkFBQSxXQUNBLE1BQUEsR0FBQSx5QkFDQSxFQUFBLHNCQUNBLEVBQUEsbUJBQ0EsRUFBQSxhQUFBLFNBR0EsRUFBQSx3QkFBQSxFQUFBLHdCQUNBLEVBQUEsV0FBQSxTQUFBLEdBQ0EsRUFBQSxVQUVBLEVBQUEsbUJBQUEsU0FBQSxHQUNBLEVBQUEsTUFBQSxNQUFBLEdBQUEsUUFBQSxTQUFBLGNBQUEsTUFFQSxFQUFBLFlBQUEsV0FDQSxFQUFBLE1BQUEsUUFBQSxLQUFBLEVBQUEsZUFDQSxFQUFBLFVBQUEsZ0JBRUEsRUFBQSxlQUFBLFdBQ0EsT0FBQSxRQUFBLE9BQUEsRUFBQSxNQUFBLEVBQUEsZ0JBRUEsRUFBQSxlQUFBLFdBQ0EsTUFBQSxRQUFBLEVBQUEsU0FBQSxFQUFBLHVCQUdBLEVBQUEsWUFBQSxXQUNBLEdBQUEsR0FBQSxFQUFBLFFBQUEsRUFBQSxNQUFBLEtBQUEsUUFDQSxHQUFBLFlBQUEsSUFFQSxFQUFBLGFBQUEsRUFBQSxrQkFFQSxFQUFBLGlCQUFBLFNBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxJQUFBLGlCQUNBLE9BQUEsVUFBQSxHQUFBLEtBQUEsRUFDQSxFQUFBLG1CQUFBLEdBRUEsRUFBQSxPQUFBLFdBQUEsR0FBQSxLQUFBLG9CQUFBLEVBQUEsWUFJQSxFQUFBLGVBQUEsRUFBQSxrQkM5TkEsUUFBQSxPQUFBLG1CQUNBLFdBQUEsY0FBQSxTQUFBLFNBQUEsUUFBQSxZQUFBLFdBQUEsZUFBQSxTQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUVBLEVBQUEsbUJBQUEsV0FDQSxNQUFBLEdBQUEsTUFDQSxZQUFBLCtDQUNBLFdBQUEscUJBQ0EsU0FDQSxLQUFBLFdBQ0EsY0FNQSxFQUFBLFdBQUEsV0FDQSxHQUFBLEdBQUEsRUFBQSxvQkFDQSxVQUFBLEdBQ0EsRUFBQSxPQUFBLEtBQUEsU0FBQSxHQUNBLEdBQUEsS0FDQSxHQUFBLEtBQUEsUUFBQSxTQUFBLEdBQ0EsRUFBQSxNQUFBLEtBQUEsRUFBQSxLQUFBLGtCQUVBLEVBQUEsUUFBQSxRQUFBLFNBQUEsR0FDQSxFQUFBLE1BQUEsS0FBQSxFQUFBLFNBRUEsRUFBQSwyQkFBQSxHQUFBLE9BQUEsS0FBQSxTQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsUUFDQSxFQUFBLEVBQUEsTUFDQSxHQUFBLElBQUEscUJBQUEsS0FBQSxTQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsSUFDQSxHQUFBLFNBQ0EsV0FBQSxFQUNBLFFBQUEsRUFDQSxpQkFBQSxHQUVBLFFBQUEsR0FDQSxFQUFBLElBQUEsRUFBQSxTQUNBLEVBQUEsU0FBQSxHQUVBLEVBQUEsU0FBQSxTQU9BLEVBQUEsSUFBQSxTQUFBLEdBQ0EsR0FBQSxHQUFBLHdCQUNBLEdBQUEsV0FBQSxHQUNBLEVBQUEsb0JBQUEsRUFDQSxFQUFBLG9CQUFBLEVBQ0EsRUFBQSxLQUFBLG1CQUFBLEdBQUEsS0FBQSxTQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsSUFDQSxRQUFBLEVBQUEsUUFDQSxFQUFBLFdBQUEsRUFBQSxFQUFBLFlBQ0EsRUFBQSx1QkFBQSxFQUNBLEVBQUEsV0FBQSxFQUFBLEtBQ0EsV0FBQSxFQUFBLFFBQ0EsRUFBQSxXQUFBLEVBQUEsRUFBQSxZQUNBLEVBQUEsdUJBQUEsR0FFQSxFQUFBLGVBQUEsSUFFQSxTQUFBLEdBQ0EsRUFBQSx1QkFBQSxFQUNBLEVBQUEsb0JBQUEsRUFDQSxFQUFBLGVBQUEsRUFBQSxTQUdBLEVBQUEsV0FBQSxTQUFBLEdBQ0EsRUFBQSxJQUFBLDBCQUFBLEdBQUEsS0FBQSxTQUFBLEdBQ0EsRUFBQSxRQUFBLEVBQUEsS0FDQSxhQUFBLEVBQUEsUUFBQSxRQUNBLEVBQUEsb0JBQUEsRUFDQSxFQUFBLFdBQ0EsRUFBQSxXQUFBLElBQ0EsTUFFQSxFQUFBLG9CQUFBLEdBRUEsU0FBQSxHQUNBLHNCQUFBLEVBQUEsS0FBQSxRQUNBLEVBQUEsV0FDQSxFQUFBLFdBQUEsSUFDQSxNQUVBLEVBQUEsb0JBQUEsRUFDQSxFQUFBLGVBQUEsRUFBQSxVQUlBLEVBQUEsbUJBQUEsV0FDQSxNQUFBLEdBQUEsbUJBQ0EsRUFBQSxzQkFDQSxFQUFBLG1CQUNBLEVBQUEsYUFBQSxJQUdBLEVBQUEseUJBQUEsV0FDQSxNQUFBLEdBQUEsc0JBQ0EsNkJBRUEsMkJBR0EsRUFBQSxxQkFBQSxXQUNBLE1BQUEsR0FBQSxxQkFBQSxFQUFBLHdCQUVBLEVBQUEsS0FBQSxXQUNBLEVBQUEsdUJBQUEsRUFDQSxFQUFBLG9CQUFBLEVBQ0EsRUFBQSxvQkFBQSxFQUNBLEVBQUEsZ0JBQ0EsRUFBQSxXQUFBLEdBQ0EsRUFBQSxhQUNBLEVBQUEsU0FBQSxHQUVBLEVBQUEsT0FBQSxXQUNBLE1BQUEsR0FBQSxXQUFBLE1BQUEsRUFBQSxPQUFBLElBQUEsRUFBQSxPQUFBLG9CQUVBLEVBQUEsVUFFQSxXQUFBLHNCQUFBLFNBQUEsUUFBQSxTQUFBLGlCQUFBLGVBQUEsU0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsRUFBQSxPQUFBLFFBQUEsWUFDQSxFQUFBLFdBQUEsRUFBQSxJQUNBLEVBQUEsUUFBQSxTQUFBLEdBQ0EsRUFBQSxRQUFBLEVBQUEsSUFFQSxFQUFBLHFCQUFBLFdBQ0EsRUFBQSxRQUFBLFdBRUEsRUFBQSxpQkFBQSxXQUNBLEdBQUEsSUFBQSxRQUFBLFdBQ0EsU0FBQSxRQUFBLEVBQUEsTUFBQSxLQUFBLFNBQUEsR0FDQSxFQUFBLFVBQ0EsRUFBQSxLQUFBLE1BQUEsS0FBQSxFQUFBLFNBQUEsRUFBQSxTQUdBLFFBQUEsUUFBQSxFQUFBLE1BQUEsUUFBQSxTQUFBLEdBQ0EsRUFBQSxVQUNBLEVBQUEsUUFBQSxNQUFBLEtBQUEsRUFBQSxTQUFBLEVBQUEsS0FBQSxhQUdBLEVBQUEsTUFBQSxJQUVBLEVBQUEsZUFBQSxXQUNBLE1BQUEsS0FBQSxFQUFBLFVBRUEsRUFBQSxZQUFBLFdBQ0EsR0FBQSxJQUFBLENBYUEsT0FaQSxTQUFBLFFBQUEsRUFBQSxNQUFBLEtBQUEsU0FBQSxHQUNBLEVBQUEsV0FDQSxHQUFBLEtBR0EsR0FDQSxRQUFBLFFBQUEsRUFBQSxNQUFBLFFBQUEsU0FBQSxHQUNBLEVBQUEsV0FDQSxHQUFBLEtBSUEsTUFHQSxXQUFBLG9CQUFBLFNBQUEsaUJBQUEsZUFBQSxPQUFBLGFBQUEsU0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsRUFBQSxRQUFBLEVBQUEsUUFDQSxFQUFBLGNBQ0EsRUFBQSxVQUFBLFdBQ0EsRUFBQSxRQUFBLFFBQUEsU0FBQSxHQUNBLEVBQUEsT0FBQSxRQUFBLFNBQUEsR0FDQSxHQUFBLFNBQUEsRUFBQSxPQUFBLEtBQUEsRUFBQSxNQUNBLEVBQUEsVUFBQSxNQUNBLENBQ0EsRUFBQSxVQUFBLENBQ0EsS0FDQSxFQUFBLE1BQUEsRUFBQSxJQUFBLEVBQUEsU0FBQSxJQUFBLEVBQUEsS0FDQSxNQUFBLEdBQ0EsUUFBQSxJQUFBLDZCQUFBLEVBQUEsU0FBQSxJQUFBLEVBQUEsS0FDQSxRQUFBLElBQUEsRUFBQSxnQkFNQSxFQUFBLFdBQUEsU0FBQSxHQUNBLE1BQUEsR0FDQSxFQUFBLE9BQUEsR0FFQSxHQUdBLEVBQUEsVUFBQSxTQUFBLEdBQ0EsTUFBQSxVQUFBLEVBQUEsUUFBQSxFQUFBLE9BQUEsT0FBQSxHQUVBLEVBQUEsR0FBQSxXQUNBLEVBQUEsT0FBQSxPQUFBLE1BQUEsUUFBQSxFQUFBLFdBRUEsRUFBQSxPQUFBLFdBQ0EsRUFBQSxRQUFBLFdBRUEsRUFBQSxXQUFBLFdBQ0EsTUFBQSxJQUVBLEVBQUEsT0FBQSxXQUNBLEVBQUEsT0FBQSxPQUFBLE1BQUEsUUFBQSxFQUFBLFdBRUEsRUFBQSxlQUFBLFNBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLE9BQUEsR0FBQSxjQUFBLEVBQUEsTUFBQSxHQUNBLEVBQUEsRUFBQSxPQUFBLEdBQUEsY0FBQSxFQUFBLE1BQUEsRUFDQSxPQUFBLEdBQUEsR0FFQSxFQUFBLGVDck5BLFFBQUEsT0FBQSxrQkFDQSxXQUFBLGFBQUEsU0FBQSxZQUFBLGVBQUEsU0FBQSxFQUFBLEVBQUEsR0FDQSxFQUFBLEtBQUEsV0FDQSxFQUFBLFVBRUEsRUFBQSxTQUFBLEVBQUEsU0FDQSxFQUFBLGVBQUEsRUFBQSxlQUNBLEVBQUEsU0FBQSxXQUNBLE1BQUEsR0FBQSxVQUFBLFFBR0EsRUFBQSxTQUFBLFdBQ0EsRUFBQSxNQUFBLEtBQUEsRUFBQSxNQUNBLEVBQUEsU0FHQSxFQUFBLE9BQUEsV0FDQSxRQUFBLFFBQUEsRUFBQSxNQUFBLFNBQUEsRUFBQSxHQUNBLEVBQUEsV0FBQSxFQUFBLEtBQUEsV0FDQSxFQUFBLE1BQUEsT0FBQSxFQUFBLEdBQ0EsRUFBQSxZQUlBLEVBQUEsTUFBQSxXQUVBLFFBQUEsUUFBQSxFQUFBLE1BQUEsU0FBQSxHQUNBLEVBQUEsV0FBQSxFQUFBLEtBQUEsVUFDQSxFQUFBLEtBQUEsd0JBR0EsRUFBQSxLQUFBLGVBQUEsR0FFQSxFQUFBLFVBRUEsV0FBQSxvQkFBQSxTQUFBLGVDbkNBLFFBQUEsT0FBQSxvQkFDQSxXQUFBLHFCQUFBLFNBQUEsU0FBQSxZQUFBLGVBQUEsU0FBQSxFQUFBLEVBQUEsRUFBQSxHQUVBLEVBQUEsVUFBQSxXQUNBLEVBQUEsTUFDQSxZQUFBLGlDQUNBLFdBQUEsY0FDQSxTQUNBLEtBQUEsV0FDQSxjQUtBLEVBQUEsbUJBQUEsV0FDQSxFQUFBLHNCQUVBLEVBQUEsU0FBQSxXQUNBLEdBQUEsR0FBQSxFQUFBLE1BQ0EsT0FBQSxLQUFBLEVBQUEsUUFBQSx1QkFDQSxhQUNBLElBQUEsRUFBQSxRQUFBLHNCQUNBLFlBQ0EsSUFBQSxFQUFBLFFBQUEscUJBQ0EsYUFDQSxJQUFBLEVBQUEsUUFBQSxrQkFDQSxVQUNBLElBQUEsRUFBQSxRQUFBLGdCQUNBLFFBQ0EsSUFBQSxFQUFBLFFBQUEsdUJBQ0EsVUFFQSIsInNvdXJjZXNDb250ZW50IjpbImFuZ3VsYXIubW9kdWxlKCdzdG9yaWVzTW9kdWxlJywgW1xyXG4gICAgJ25nUm91dGUnLFxyXG4gICAgJ25nQ29va2llcycsXHJcbiAgICAndWkuYm9vdHN0cmFwJyxcclxuICAgICd1aS5zb3J0YWJsZScsXHJcbiAgICAnY29uZmlnTW9kdWxlJyxcclxuICAgICdib2R5TW9kdWxlJyxcclxuICAgICd0b3BNZW51TW9kdWxlJyxcclxuICAgICdzdG9yeU1vZHVsZScsXHJcbiAgICAnY29tcG9zaXRlQ2xhc3Nlc01vZHVsZScsXHJcbiAgICAnY29tcG9zaXRlc01vZHVsZScsXHJcbiAgICAncnVubmVyTW9kdWxlJyxcclxuICAgICdsb2dpbk1vZHVsZSdcclxuXSlcclxuICAgIC5zZXJ2aWNlKCdUY0JkZFNlcnZpY2UnLCBmdW5jdGlvbigkbW9kYWwsICRodHRwLCAkbG9jYXRpb24sICRxKSB7XHJcbiAgICAgICAgdGhpcy5vcGVuQ29tcG9zaXRlQ2xhc3MgPSBmdW5jdGlvbihjb21wb3NpdGVTdGVwVGV4dCkge1xyXG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgICRtb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL2Fzc2V0cy9odG1sL2NvbXBvc2l0ZUNsYXNzZXMvY29tcG9zaXRlQ2xhc3Nlcy50bXBsLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2NvbXBvc2l0ZUNsYXNzZXNDdHJsJyxcclxuICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICBjb21wb3NpdGVDbGFzc2VzOiBmdW5jdGlvbigkcm91dGUsICRodHRwLCAkbW9kYWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlbGYuZ2V0SnNvbignL2dyb292eUNvbXBvc2l0ZXMnLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBjb21wb3NpdGVTdGVwVGV4dDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjb21wb3NpdGVTdGVwVGV4dDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5uZXdDb2xsZWN0aW9uSXRlbSA9IGZ1bmN0aW9uKGV2ZW50LCBjb2xsZWN0aW9uKSB7XHJcbiAgICAgICAgICAgIGlmIChldmVudC53aGljaCA9PT0gMTMpIHtcclxuICAgICAgICAgICAgICAgIGNvbGxlY3Rpb24ucHVzaCh7fSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMucmVtb3ZlQ29sbGVjdGlvbkVsZW1lbnQgPSBmdW5jdGlvbihjb2xsZWN0aW9uLCBpbmRleCkge1xyXG4gICAgICAgICAgICBjb2xsZWN0aW9uLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLmJ1dHRvbkNzc0NsYXNzID0gZnVuY3Rpb24obmdNb2RlbENvbnRyb2xsZXIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICdidG4tc3VjY2Vzcyc6IG5nTW9kZWxDb250cm9sbGVyLiR2YWxpZCxcclxuICAgICAgICAgICAgICAgICdidG4tZGFuZ2VyJzogbmdNb2RlbENvbnRyb2xsZXIuJGludmFsaWRcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuZ2V0UnVubmVyUHJvZ3Jlc3NDc3MgPSBmdW5jdGlvbihpblByb2dyZXNzKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAncHJvZ3Jlc3MgcHJvZ3Jlc3Mtc3RyaXBlZCBhY3RpdmUnOiBpblByb2dyZXNzLFxyXG4gICAgICAgICAgICAgICAgJ3Byb2dyZXNzJzogIWluUHJvZ3Jlc3NcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuZ2V0U3RvcnlSdW5uZXJTdGF0dXNUZXh0ID0gZnVuY3Rpb24oaW5Qcm9ncmVzcywgc3VjY2VzcywgcGVuZGluZ1N0ZXBzTGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGlmIChpblByb2dyZXNzKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ1N0b3J5IHJ1biBpcyBpbiBwcm9ncmVzcyc7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHBlbmRpbmdTdGVwc0xlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ1N0b3J5IHJ1biB3YXMgc3VjY2Vzc2Z1bCB3aXRoICcgKyBwZW5kaW5nU3RlcHNMZW5ndGggKyAnIHBlbmRpbmcgc3RlcHMnO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ1N0b3J5IHJ1biB3YXMgc3VjY2Vzc2Z1bCc7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ1N0b3J5IHJ1biBmYWlsZWQnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLmdldFJ1bm5lclN0YXR1c0NzcyA9IGZ1bmN0aW9uKGluUHJvZ3Jlc3MsIHN1Y2Nlc3MsIHBlbmRpbmdTdGVwcykge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgJ3Byb2dyZXNzLWJhciBwcm9ncmVzcy1iYXItaW5mbyc6IGluUHJvZ3Jlc3MsXHJcbiAgICAgICAgICAgICAgICAncHJvZ3Jlc3MtYmFyIHByb2dyZXNzLWJhci13YXJuaW5nJzogIWluUHJvZ3Jlc3MgJiYgc3VjY2VzcyAmJiBwZW5kaW5nU3RlcHMsXHJcbiAgICAgICAgICAgICAgICAncHJvZ3Jlc3MtYmFyIHByb2dyZXNzLWJhci1zdWNjZXNzJzogIWluUHJvZ3Jlc3MgJiYgc3VjY2VzcyAmJiAhcGVuZGluZ1N0ZXBzLFxyXG4gICAgICAgICAgICAgICAgJ3Byb2dyZXNzLWJhciBwcm9ncmVzcy1iYXItZGFuZ2VyJzogIWluUHJvZ3Jlc3MgJiYgIXN1Y2Nlc3NcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMub3BlblJ1bm5lclBhcmFtZXRlcnNNb2RhbCA9IGZ1bmN0aW9uKHNob3dHZXRBcGkpIHtcclxuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgICAgICByZXR1cm4gJG1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvYXNzZXRzL2h0bWwvcnVubmVyL3J1bm5lclBhcmFtcy50bXBsLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3J1bm5lclBhcmFtc0N0cmwnLFxyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGZ1bmN0aW9uKCRyb3V0ZSwgJGh0dHAsICRtb2RhbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2VsZi5nZXRKc29uKCcvc3RlcHMvY2xhc3Nlcy5qc29uJywgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBzaG93R2V0QXBpOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNob3dHZXRBcGk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMub3BlbkRpciA9IGZ1bmN0aW9uKCRzY29wZSwgcGF0aCkge1xyXG4gICAgICAgICAgICBpZiAocGF0aCA9PT0gJy4uJykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGRpcnMgPSAkc2NvcGUucm9vdFBhdGguc3BsaXQoJy8nKTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5yb290UGF0aCA9IGRpcnMuc2xpY2UoMCwgZGlycy5sZW5ndGggLSAyKS5qb2luKCcvJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLnJvb3RQYXRoICE9PSAnJykge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5yb290UGF0aCArPSAnLyc7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLmdldFN0b3JpZXMoJHNjb3BlLCAnJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmdldFN0b3JpZXMoJHNjb3BlLCBwYXRoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5nZXRTdG9yaWVzID0gZnVuY3Rpb24gKCRzY29wZSwgcGF0aCkge1xyXG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgIGlmICgkc2NvcGUucm9vdFBhdGggPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnJvb3RQYXRoID0gJyc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgJGh0dHAuZ2V0KCcvc3Rvcmllcy9saXN0Lmpzb24/cGF0aD0nICsgJHNjb3BlLnJvb3RQYXRoICsgcGF0aCkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmZpbGVzID0gcmVzcG9uc2UuZGF0YTtcclxuICAgICAgICAgICAgICAgIGlmIChwYXRoICE9PSAnJykge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5yb290UGF0aCArPSBwYXRoICsgJy8nO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCBmdW5jdGlvbihyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5vcGVuRXJyb3JNb2RhbChyZXNwb25zZS5kYXRhKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLnN0ZXBUZXh0UGF0dGVybiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gKC9eKEdpdmVufFdoZW58VGhlbikgLiskLyk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLm9wZW5Db25maXJtYXRpb25Nb2RhbCA9IGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgcmV0dXJuICRtb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL2Fzc2V0cy9odG1sL2NvbmZpcm1hdGlvbk1vZGFsLnRtcGwuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnbW9kYWxDdHJsJyxcclxuICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuY2xhc3NOYW1lUGF0dGVybiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gKC9eW2EtekEtWl8kXVthLXpBLVpcXGRfJF0qJC8pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5jc3NDbGFzcyA9IGZ1bmN0aW9uKG5nTW9kZWxDb250cm9sbGVyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAnaGFzLWVycm9yJzogbmdNb2RlbENvbnRyb2xsZXIuJGludmFsaWQsXHJcbiAgICAgICAgICAgICAgICAnaGFzLXN1Y2Nlc3MnOiBuZ01vZGVsQ29udHJvbGxlci4kdmFsaWQgJiYgbmdNb2RlbENvbnRyb2xsZXIuJGRpcnR5XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfTtcclxuICAgICAgICAvLyBUT0RPIFRlc3RcclxuICAgICAgICB0aGlzLmRlbGV0ZVN0b3J5ID0gZnVuY3Rpb24ocGF0aCkge1xyXG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XHJcbiAgICAgICAgICAgIHZhciBtZXNzYWdlID0ge3N0YXR1czogJ0RlbGV0ZSBTdG9yeScsIG1lc3NhZ2U6ICdBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHRoaXMgc3Rvcnk/J307XHJcbiAgICAgICAgICAgIHZhciBva01vZGFsID0gdGhpcy5vcGVuQ29uZmlybWF0aW9uTW9kYWwobWVzc2FnZSk7XHJcbiAgICAgICAgICAgIG9rTW9kYWwucmVzdWx0LnRoZW4oZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAkaHR0cC5kZWxldGUoJy9zdG9yaWVzL3N0b3J5LycgKyBwYXRoKS50aGVuKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvcGFnZS9zdG9yaWVzL25ldy8nKTtcclxuICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKCdPSycpO1xyXG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLm9wZW5FcnJvck1vZGFsKHJlc3BvbnNlLmRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlamVjdCgnTk9LJyk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoJ05PSycpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLmdldEpzb24gPSBmdW5jdGlvbih1cmwsIGNhY2hlVHlwZSkge1xyXG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgIHJldHVybiAkaHR0cC5nZXQodXJsLCB7Y2FjaGU6IGNhY2hlVHlwZX0pLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xyXG4gICAgICAgICAgICB9LCBmdW5jdGlvbihyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5vcGVuRXJyb3JNb2RhbChyZXNwb25zZS5kYXRhKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLm9wZW5FcnJvck1vZGFsID0gZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAkbW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9hc3NldHMvaHRtbC9lcnJvck1vZGFsLnRtcGwuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnbW9kYWxDdHJsJyxcclxuICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgfSlcclxuICAgIC5jb250cm9sbGVyKCdtb2RhbEN0cmwnLCBmdW5jdGlvbigkc2NvcGUsICRtb2RhbEluc3RhbmNlLCBkYXRhKSB7XHJcbiAgICAgICAgJHNjb3BlLmRhdGEgPSBkYXRhO1xyXG4gICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgJG1vZGFsSW5zdGFuY2UuY2xvc2UoJ29rJyk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICAkc2NvcGUuY2FuY2VsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAkbW9kYWxJbnN0YW5jZS5kaXNtaXNzKCdjYW5jZWwnKTtcclxuICAgICAgICB9O1xyXG4gICAgfSlcclxuICAgIC5jb250cm9sbGVyKCdzdG9yaWVzQ3RybCcsIGZ1bmN0aW9uKCRzY29wZSwgJGh0dHAsICRtb2RhbCwgJG1vZGFsSW5zdGFuY2UsICRsb2NhdGlvbiwgJHEsIFRjQmRkU2VydmljZSkge1xyXG4gICAgICAgIFRjQmRkU2VydmljZS5nZXRTdG9yaWVzKCRzY29wZSwgJycpO1xyXG4gICAgICAgICRzY29wZS5vcGVuRGlyID0gZnVuY3Rpb24ocGF0aCkge1xyXG4gICAgICAgICAgICBUY0JkZFNlcnZpY2Uub3BlbkRpcigkc2NvcGUsIHBhdGgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgJHNjb3BlLmNsb3NlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICRtb2RhbEluc3RhbmNlLmNsb3NlKCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICAkc2NvcGUudmlld1N0b3J5VXJsID0gZnVuY3Rpb24obmFtZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gJy9wYWdlL3N0b3JpZXMvdmlldy8nICsgJHNjb3BlLnJvb3RQYXRoICsgbmFtZTtcclxuICAgICAgICB9O1xyXG4gICAgICAgICRzY29wZS5hbGxvd1RvUHJldkRpciA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gJHNjb3BlLnJvb3RQYXRoICE9PSAnJztcclxuICAgICAgICB9O1xyXG4gICAgICAgIC8vIFRPRE8gVGVzdFxyXG4gICAgICAgICRzY29wZS5kZWxldGVTdG9yeSA9IGZ1bmN0aW9uKG5hbWUsIGluZGV4KSB7XHJcbiAgICAgICAgICAgIHZhciBwYXRoID0gJHNjb3BlLnJvb3RQYXRoICsgbmFtZSArICcuc3RvcnknO1xyXG4gICAgICAgICAgICBUY0JkZFNlcnZpY2UuZGVsZXRlU3RvcnkocGF0aCkudGhlbihmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5maWxlcy5zdG9yaWVzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgLy8gVE9ETyBUZXN0XHJcbiAgICAgICAgJHNjb3BlLmNyZWF0ZURpcmVjdG9yeSA9IGZ1bmN0aW9uKHBhdGgpIHtcclxuICAgICAgICAgICAgdmFyIGpzb24gPSAne1wicGF0aFwiOiBcIicgKyAkc2NvcGUucm9vdFBhdGggKyBwYXRoICsgJ1wifSc7XHJcbiAgICAgICAgICAgICRodHRwLnBvc3QoJy9zdG9yaWVzL2Rpci5qc29uJywganNvbikudGhlbihmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5maWxlcy5kaXJzLnB1c2goe25hbWU6IHBhdGh9KTtcclxuICAgICAgICAgICAgfSwgZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgIFRjQmRkU2VydmljZS5vcGVuRXJyb3JNb2RhbChyZXNwb25zZS5kYXRhKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgIH0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnY29uZmlnTW9kdWxlJywgW10pXHJcbiAgICAuY29uZmlnKGZ1bmN0aW9uKCRyb3V0ZVByb3ZpZGVyLCAkbG9jYXRpb25Qcm92aWRlcikge1xyXG4gICAgICAgICRsb2NhdGlvblByb3ZpZGVyLmh0bWw1TW9kZSh0cnVlKTtcclxuICAgICAgICAkcm91dGVQcm92aWRlclxyXG4gICAgICAgICAgICAvLyBUT0RPIFJlbW92ZSBkdXBsaWNhdGlvbiBpbiByZXNvbHZlXHJcbiAgICAgICAgICAgIC53aGVuKCcvcGFnZS9zdG9yaWVzL25ldy8nLCB7XHJcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9hc3NldHMvaHRtbC9zdG9yeS9zdG9yeS50bXBsLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3N0b3J5Q3RybCcsXHJcbiAgICAgICAgICAgICAgICAvLyBUT0RPIFRlc3RcclxuICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICBzdG9yeTogZnVuY3Rpb24oJGh0dHAsICRtb2RhbCwgVGNCZGRTZXJ2aWNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBUY0JkZFNlcnZpY2UuZ2V0SnNvbignL3N0b3JpZXMvc3RvcnkuanNvbicsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHN0ZXBzOiBmdW5jdGlvbigkaHR0cCwgJG1vZGFsLCBUY0JkZFNlcnZpY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFRjQmRkU2VydmljZS5nZXRKc29uKCcvc3RlcHMvbGlzdC5qc29uJywgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBncm9vdnlDb21wb3NpdGVzOiBmdW5jdGlvbigkaHR0cCwgJG1vZGFsLCBUY0JkZFNlcnZpY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFRjQmRkU2VydmljZS5nZXRKc29uKCcvZ3Jvb3Z5Q29tcG9zaXRlcycsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLndoZW4oJy9wYWdlL3N0b3JpZXMvbmV3LzpwYXRoKicsIHtcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL2Fzc2V0cy9odG1sL3N0b3J5L3N0b3J5LnRtcGwuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnc3RvcnlDdHJsJyxcclxuICAgICAgICAgICAgICAgIC8vIFRPRE8gVGVzdFxyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0b3J5OiBmdW5jdGlvbigkcm91dGUsICRodHRwLCAkbW9kYWwsIFRjQmRkU2VydmljZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gVGNCZGRTZXJ2aWNlLmdldEpzb24oJy9zdG9yaWVzL3N0b3J5Lmpzb24/cGF0aD0nICsgJHJvdXRlLmN1cnJlbnQucGFyYW1zLnBhdGggKyAnLnN0b3J5JywgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgc3RlcHM6IGZ1bmN0aW9uKCRodHRwLCAkbW9kYWwsIFRjQmRkU2VydmljZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gVGNCZGRTZXJ2aWNlLmdldEpzb24oJy9zdGVwcy9saXN0Lmpzb24nLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGdyb292eUNvbXBvc2l0ZXM6IGZ1bmN0aW9uKCRodHRwLCAkbW9kYWwsIFRjQmRkU2VydmljZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gVGNCZGRTZXJ2aWNlLmdldEpzb24oJy9ncm9vdnlDb21wb3NpdGVzJywgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAud2hlbignL3BhZ2Uvc3Rvcmllcy92aWV3LzpwYXRoKicsIHtcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL2Fzc2V0cy9odG1sL3N0b3J5L3N0b3J5LnRtcGwuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnc3RvcnlDdHJsJyxcclxuICAgICAgICAgICAgICAgIC8vIFRPRE8gVGVzdFxyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0b3J5OiBmdW5jdGlvbigkcm91dGUsICRodHRwLCAkbW9kYWwsIFRjQmRkU2VydmljZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gVGNCZGRTZXJ2aWNlLmdldEpzb24oJy9zdG9yaWVzL3N0b3J5Lmpzb24/cGF0aD0nICsgJHJvdXRlLmN1cnJlbnQucGFyYW1zLnBhdGggKyAnLnN0b3J5JywgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgc3RlcHM6IGZ1bmN0aW9uKCRodHRwLCAkbW9kYWwsIFRjQmRkU2VydmljZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gVGNCZGRTZXJ2aWNlLmdldEpzb24oJy9zdGVwcy9saXN0Lmpzb24nLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGdyb292eUNvbXBvc2l0ZXM6IGZ1bmN0aW9uKCRodHRwLCAkbW9kYWwsIFRjQmRkU2VydmljZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gVGNCZGRTZXJ2aWNlLmdldEpzb24oJy9ncm9vdnlDb21wb3NpdGVzJywgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHJlbG9hZE9uU2VhcmNoOiBmYWxzZVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIC53aGVuKCcvcGFnZS9jb21wb3NpdGVzLzpjbGFzc05hbWUqJywge1xyXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvYXNzZXRzL2h0bWwvY29tcG9zaXRlcy9jb21wb3NpdGVzLnRtcGwuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnY29tcG9zaXRlc0N0cmwnLFxyXG4gICAgICAgICAgICAgICAgLy8gVE9ETyBUZXN0XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29tcG9zaXRlc0NsYXNzOiBmdW5jdGlvbigkcm91dGUsICRodHRwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaWxlTmFtZSA9ICRyb3V0ZS5jdXJyZW50LnBhcmFtcy5jbGFzc05hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1cmwgPSAnL2dyb292eUNvbXBvc2l0ZXMvJyArIGZpbGVOYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJGh0dHAuZ2V0KHVybCwge2NhY2hlOiBmYWxzZX0pLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjbGFzc05hbWUgPSBmaWxlTmFtZS5zdWJzdHJpbmcoMCwgZmlsZU5hbWUubGFzdEluZGV4T2YoJy4nKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzOiBjbGFzc05hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9zaXRlczpbe3N0ZXBUZXh0OiAnJywgY29tcG9zaXRlU3RlcHM6IFt7fV19XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc05ldzogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBzdGVwczogZnVuY3Rpb24oJGh0dHAsICRtb2RhbCwgVGNCZGRTZXJ2aWNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBUY0JkZFNlcnZpY2UuZ2V0SnNvbignL3N0ZXBzL2xpc3QuanNvbicsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC53aGVuKCcvcGFnZS9ydW5uZXIvJywge1xyXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvYXNzZXRzL2h0bWwvcnVubmVyL3J1bm5lci50bXBsLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3J1bm5lckN0cmwnLFxyXG4gICAgICAgICAgICAgICAgLy8gVE9ETyBUZXN0XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogZnVuY3Rpb24oJHJvdXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7cmVwb3J0c1BhdGg6ICRyb3V0ZS5jdXJyZW50LnBhcmFtcy5wYXRofTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC53aGVuKCcvcGFnZS9sb2dpbi8nLCB7XHJcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9hc3NldHMvaHRtbC9sb2dpbi9sb2dpbi50bXBsLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2xvZ2luQ3RybCdcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLndoZW4oJy9wYWdlL2xvZ2luV2VsY29tZS8nLCB7XHJcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9hc3NldHMvaHRtbC9sb2dpbi9sb2dpbldlbGNvbWUudG1wbC5odG1sJyxcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdsb2dpbldlbGNvbWVDdHJsJ1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAvLyBUT0RPIFRlc3RcclxuICAgICAgICAgICAgLm90aGVyd2lzZSh7XHJcbiAgICAgICAgICAgICAgICByZWRpcmVjdFRvOiAnL3BhZ2Uvc3Rvcmllcy9uZXcnXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCdib2R5TW9kdWxlJywgW10pXHJcbiAgICAuY29udHJvbGxlcignYm9keUN0cmwnLCBmdW5jdGlvbiAoJHNjb3BlKSB7XHJcbiAgICB9KTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ2NvbXBvc2l0ZUNsYXNzZXNNb2R1bGUnLCBbXSlcclxuICAgIC5jb250cm9sbGVyKCdjb21wb3NpdGVDbGFzc2VzQ3RybCcsIGZ1bmN0aW9uKCRzY29wZSwgJGh0dHAsICRtb2RhbEluc3RhbmNlLCBjb21wb3NpdGVDbGFzc2VzLCBjb21wb3NpdGVTdGVwVGV4dCwgVGNCZGRTZXJ2aWNlKSB7XHJcbiAgICAgICAgJHNjb3BlLmNvbXBvc2l0ZUNsYXNzZXMgPSBjb21wb3NpdGVDbGFzc2VzO1xyXG4gICAgICAgICRzY29wZS5jb21wb3NpdGVTdGVwVGV4dCA9IGNvbXBvc2l0ZVN0ZXBUZXh0O1xyXG4gICAgICAgIC8vIFRPRE8gVGVzdFxyXG4gICAgICAgICRzY29wZS5jbG9zZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAkbW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgJHNjb3BlLmNvbXBvc2l0ZUNsYXNzVXJsID0gZnVuY3Rpb24ocGFja2FnZU5hbWUsIGNsYXNzTmFtZSkge1xyXG4gICAgICAgICAgICB2YXIgdXJsID0gJy9wYWdlL2NvbXBvc2l0ZXMvJztcclxuICAgICAgICAgICAgaWYgKHBhY2thZ2VOYW1lICE9PSB1bmRlZmluZWQgJiYgcGFja2FnZU5hbWUgIT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICB1cmwgKz0gcGFja2FnZU5hbWUgKyAnLic7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIGNsYXNzTmFtZVBhcnRzO1xyXG4gICAgICAgICAgICBpZiAoY2xhc3NOYW1lLmluZGV4T2YoJy8nKSA+PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWVQYXJ0cyA9IGNsYXNzTmFtZS5zcGxpdCgnLycpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lUGFydHMgPSBjbGFzc05hbWUuc3BsaXQoJ1xcXFwnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB1cmwgKz0gY2xhc3NOYW1lUGFydHNbY2xhc3NOYW1lUGFydHMubGVuZ3RoIC0gMV07XHJcbiAgICAgICAgICAgIGlmICgkc2NvcGUuY29tcG9zaXRlU3RlcFRleHQgIT09IHVuZGVmaW5lZCAmJiAkc2NvcGUuY29tcG9zaXRlU3RlcFRleHQgIT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICB1cmwgKz0gJz9zdGVwVGV4dD0nICsgJHNjb3BlLmNvbXBvc2l0ZVN0ZXBUZXh0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB1cmw7XHJcbiAgICAgICAgfTtcclxuICAgICAgICAkc2NvcGUuY29tcG9zaXRlQ2xhc3NUZXh0ID0gZnVuY3Rpb24oY2xhc3NOYW1lKSB7XHJcbiAgICAgICAgICAgIHZhciBjbGFzc05hbWVQYXJ0cztcclxuICAgICAgICAgICAgaWYgKGNsYXNzTmFtZS5pbmRleE9mKCcvJykgPj0gMCkge1xyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lUGFydHMgPSBjbGFzc05hbWUuc3BsaXQoJy8nKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZVBhcnRzID0gY2xhc3NOYW1lLnNwbGl0KCdcXFxcJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIHRleHQgPSBjbGFzc05hbWVQYXJ0c1tjbGFzc05hbWVQYXJ0cy5sZW5ndGggLSAxXTtcclxuICAgICAgICAgICAgaWYgKHRleHQuaW5kZXhPZignLicpID49IDApIHtcclxuICAgICAgICAgICAgICAgIHRleHQgPSB0ZXh0LnN1YnN0cigwLCB0ZXh0Lmxhc3RJbmRleE9mKCcuJykpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0ZXh0O1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgJHNjb3BlLmNsYXNzTmFtZVBhdHRlcm4gPSBUY0JkZFNlcnZpY2UuY2xhc3NOYW1lUGF0dGVybjtcclxuICAgICAgICAvLyBUT0RPIFRlc3RcclxuICAgICAgICAkc2NvcGUuY3NzQ2xhc3MgPSBUY0JkZFNlcnZpY2UuY3NzQ2xhc3M7XHJcbiAgICAgICAgJHNjb3BlLmRhdGEgPSB7Y2xhc3M6ICcnfTtcclxuICAgIH0pOyIsImFuZ3VsYXIubW9kdWxlKCdjb21wb3NpdGVzTW9kdWxlJywgW10pXHJcbiAgICAuY29udHJvbGxlcignY29tcG9zaXRlc0N0cmwnLCBmdW5jdGlvbigkc2NvcGUsICRodHRwLCAkbW9kYWwsICRsb2NhdGlvbiwgJGNvb2tpZVN0b3JlLCBjb21wb3NpdGVzQ2xhc3MsIHN0ZXBzLCBUY0JkZFNlcnZpY2UpIHtcclxuICAgICAgICAkc2NvcGUuYWRkTmV3Q29tcG9zaXRlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICRzY29wZS5jb21wb3NpdGUgPSB7c3RlcFRleHQ6ICcnLCBjb21wb3NpdGVTdGVwczogW3t9XX07XHJcbiAgICAgICAgICAgICRzY29wZS5jb21wb3NpdGVzQ2xhc3MuY29tcG9zaXRlcy5wdXNoKCRzY29wZS5jb21wb3NpdGUpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgJHNjb3BlLmFkZFN0ZXBUZXh0UGFyYW0gPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgaWYgKCRsb2NhdGlvbi5zZWFyY2goKS5zdGVwVGV4dCAhPT0gdW5kZWZpbmVkICYmICRsb2NhdGlvbi5zZWFyY2goKS5zdGVwVGV4dCAhPT0gJycpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5jb21wb3NpdGVzQ2xhc3MuY29tcG9zaXRlcy5wdXNoKHtzdGVwVGV4dDogJGxvY2F0aW9uLnNlYXJjaCgpLnN0ZXBUZXh0LCBjb21wb3NpdGVTdGVwczogW119KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgJHNjb3BlLmFkZE5ld0NvbXBvc2l0ZVN0ZXAgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgJHNjb3BlLmNvbXBvc2l0ZS5jb21wb3NpdGVTdGVwcy5wdXNoKHt9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgICRzY29wZS5zZXRMYXN0Q29tcG9zaXRlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGlmICgkc2NvcGUuY29tcG9zaXRlc0NsYXNzICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBsZW5ndGggPSAkc2NvcGUuY29tcG9zaXRlc0NsYXNzLmNvbXBvc2l0ZXMubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmNvbXBvc2l0ZSA9ICRzY29wZS5jb21wb3NpdGVzQ2xhc3MuY29tcG9zaXRlc1tsZW5ndGggLSAxXTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5jb21wb3NpdGUgPSB7fTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgJHNjb3BlLmNvbXBvc2l0ZXNDbGFzcyA9IGNvbXBvc2l0ZXNDbGFzcztcclxuICAgICAgICAkc2NvcGUuYWRkU3RlcFRleHRQYXJhbSgpO1xyXG4gICAgICAgICRzY29wZS5vcmlnaW5hbENvbXBvc2l0ZXNDbGFzcyA9IGFuZ3VsYXIuY29weShjb21wb3NpdGVzQ2xhc3MpO1xyXG4gICAgICAgICRzY29wZS5zZXRMYXN0Q29tcG9zaXRlKCk7XHJcbiAgICAgICAgJHNjb3BlLnN0ZXBzID0gc3RlcHM7XHJcbiAgICAgICAgJHNjb3BlLmNsYXNzTmFtZVBhdHRlcm4gPSBUY0JkZFNlcnZpY2UuY2xhc3NOYW1lUGF0dGVybjtcclxuICAgICAgICAkc2NvcGUuc3RlcFRleHRQYXR0ZXJuID0gVGNCZGRTZXJ2aWNlLnN0ZXBUZXh0UGF0dGVybjtcclxuICAgICAgICAkc2NvcGUuY3NzQ2xhc3MgPSBUY0JkZFNlcnZpY2UuY3NzQ2xhc3M7XHJcbiAgICAgICAgJHNjb3BlLmJ1dHRvbkNzc0NsYXNzID0gZnVuY3Rpb24oY29tcG9zaXRlQ2xhc3NGb3JtLCBjb21wb3NpdGVGb3JtKSB7XHJcbiAgICAgICAgICAgIGlmICghY29tcG9zaXRlQ2xhc3NGb3JtLiR2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFRjQmRkU2VydmljZS5idXR0b25Dc3NDbGFzcyhjb21wb3NpdGVDbGFzc0Zvcm0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFRjQmRkU2VydmljZS5idXR0b25Dc3NDbGFzcyhjb21wb3NpdGVGb3JtKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgJHNjb3BlLm9wZW5Db21wb3NpdGUgPSBmdW5jdGlvbihjb21wb3NpdGUpIHtcclxuICAgICAgICAgICAgJHNjb3BlLmNvbXBvc2l0ZSA9IGNvbXBvc2l0ZTtcclxuICAgICAgICB9O1xyXG4gICAgICAgICRzY29wZS5uZXdDb2xsZWN0aW9uSXRlbSA9IFRjQmRkU2VydmljZS5uZXdDb2xsZWN0aW9uSXRlbTtcclxuICAgICAgICAkc2NvcGUucmVtb3ZlQ29sbGVjdGlvbkVsZW1lbnQgPSBUY0JkZFNlcnZpY2UucmVtb3ZlQ29sbGVjdGlvbkVsZW1lbnQ7XHJcbiAgICAgICAgJHNjb3BlLnJldmVydENvbXBvc2l0ZXNDbGFzcyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAkc2NvcGUuY29tcG9zaXRlc0NsYXNzID0gYW5ndWxhci5jb3B5KCRzY29wZS5vcmlnaW5hbENvbXBvc2l0ZXNDbGFzcyk7XHJcbiAgICAgICAgICAgICRzY29wZS5jb21wb3NpdGUgPSAkc2NvcGUuY29tcG9zaXRlc0NsYXNzLmNvbXBvc2l0ZXNbMF07XHJcbiAgICAgICAgfTtcclxuICAgICAgICAkc2NvcGUuY2FuUmV2ZXJ0Q29tcG9zaXRlc0NsYXNzID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAhYW5ndWxhci5lcXVhbHMoJHNjb3BlLmNvbXBvc2l0ZXNDbGFzcywgJHNjb3BlLm9yaWdpbmFsQ29tcG9zaXRlc0NsYXNzKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgICRzY29wZS5jYW5TYXZlQ29tcG9zaXRlc0NsYXNzID0gZnVuY3Rpb24obmdNb2RlbENvbnRyb2xsZXIpIHtcclxuICAgICAgICAgICAgdmFyIGlzVmFsaWQgPSBuZ01vZGVsQ29udHJvbGxlci4kdmFsaWQ7XHJcbiAgICAgICAgICAgIHZhciBpc1VwZGF0ZWQgPSAhYW5ndWxhci5lcXVhbHMoJHNjb3BlLmNvbXBvc2l0ZXNDbGFzcywgJHNjb3BlLm9yaWdpbmFsQ29tcG9zaXRlc0NsYXNzKTtcclxuICAgICAgICAgICAgdmFyIGlzTmV3ID0gJHNjb3BlLmNvbXBvc2l0ZXNDbGFzcy5pc05ldztcclxuICAgICAgICAgICAgcmV0dXJuIChpc05ldyB8fCBpc1VwZGF0ZWQpICYmIGlzVmFsaWQ7XHJcbiAgICAgICAgfTtcclxuICAgICAgICAkc2NvcGUuY29tcG9zaXRlc0FyZVZhbGlkID0gZnVuY3Rpb24obmdNb2RlbENvbnRyb2xsZXIpIHtcclxuICAgICAgICAgICAgdmFyIGlzVmFsaWQgPSBuZ01vZGVsQ29udHJvbGxlci4kdmFsaWQ7XHJcbiAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCgkc2NvcGUuY29tcG9zaXRlc0NsYXNzLmNvbXBvc2l0ZXMsIGZ1bmN0aW9uKGVsZW1lbnQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50LnN0ZXBUZXh0ID09PSB1bmRlZmluZWQgfHwgZWxlbWVudC5zdGVwVGV4dCA9PT0gJycpIHtcclxuICAgICAgICAgICAgICAgICAgICBpc1ZhbGlkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGVsZW1lbnQuY29tcG9zaXRlU3RlcHMgPT09IHVuZGVmaW5lZCB8fCBlbGVtZW50LmNvbXBvc2l0ZVN0ZXBzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlzVmFsaWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiBpc1ZhbGlkO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgJHNjb3BlLnNhdmVDb21wb3NpdGVzQ2xhc3MgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgJGh0dHAucHV0KCcvZ3Jvb3Z5Q29tcG9zaXRlcycsICRzY29wZS5jb21wb3NpdGVzQ2xhc3MpLnRoZW4oZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZGVsZXRlQ29tcG9zaXRlc0NsYXNzV2l0aG91dENvbmZpcm1hdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy9wYWdlL2NvbXBvc2l0ZXMvJyArICRzY29wZS5jb21wb3NpdGVzQ2xhc3MuY2xhc3MgKyAnLmdyb292eScpO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmNvbXBvc2l0ZXNDbGFzcy5pc05ldyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm9yaWdpbmFsQ29tcG9zaXRlc0NsYXNzID0gYW5ndWxhci5jb3B5KCRzY29wZS5jb21wb3NpdGVzQ2xhc3MpO1xyXG4gICAgICAgICAgICAgICAgJGNvb2tpZVN0b3JlLnB1dCgnY29tcG9zaXRlQ2xhc3MnLCAkc2NvcGUuY29tcG9zaXRlc0NsYXNzLmNsYXNzKTtcclxuICAgICAgICAgICAgfSwgZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgIFRjQmRkU2VydmljZS5vcGVuRXJyb3JNb2RhbChyZXNwb25zZS5kYXRhKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICAkc2NvcGUuY2FuRGVsZXRlQ29tcG9zaXRlc0NsYXNzID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAoISRzY29wZS5jb21wb3NpdGVzQ2xhc3MuaXNOZXcpO1xyXG5cclxuICAgICAgICB9O1xyXG4gICAgICAgIC8vIFRPRE8gVGVzdFxyXG4gICAgICAgICRzY29wZS5kZWxldGVDb21wb3NpdGVzQ2xhc3NXaXRob3V0Q29uZmlybWF0aW9uID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciBjbGFzc05hbWUgPSAkc2NvcGUuY29tcG9zaXRlc0NsYXNzLmNsYXNzO1xyXG4gICAgICAgICAgICB2YXIgb3JpZ2luYWxDbGFzc05hbWUgPSAkc2NvcGUub3JpZ2luYWxDb21wb3NpdGVzQ2xhc3MuY2xhc3M7XHJcbiAgICAgICAgICAgIGlmIChjbGFzc05hbWUgIT09IG9yaWdpbmFsQ2xhc3NOYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAkaHR0cC5kZWxldGUoJy9ncm9vdnlDb21wb3NpdGVzLycgKyBvcmlnaW5hbENsYXNzTmFtZSkudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBUY0JkZFNlcnZpY2Uub3BlbkVycm9yTW9kYWwocmVzcG9uc2UuZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgLy8gVE9ETyBUZXN0XHJcbiAgICAgICAgJHNjb3BlLmRlbGV0ZUNvbXBvc2l0ZXNDbGFzcyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgbWVzc2FnZSA9IHtzdGF0dXM6ICdEZWxldGUgQ29tcG9zaXRlcyBDbGFzcycsIG1lc3NhZ2U6ICdBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHRoaXMgY29tcG9zaXRlcyBjbGFzcz8nfTtcclxuICAgICAgICAgICAgdmFyIG9rTW9kYWwgPSBUY0JkZFNlcnZpY2Uub3BlbkNvbmZpcm1hdGlvbk1vZGFsKG1lc3NhZ2UpO1xyXG4gICAgICAgICAgICBva01vZGFsLnJlc3VsdC50aGVuKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgJGh0dHAuZGVsZXRlKCcvZ3Jvb3Z5Q29tcG9zaXRlcy8nICsgJHNjb3BlLm9yaWdpbmFsQ29tcG9zaXRlc0NsYXNzLmNsYXNzKS50aGVuKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvJyk7XHJcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIFRjQmRkU2VydmljZS5vcGVuRXJyb3JNb2RhbChyZXNwb25zZS5kYXRhKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9LCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIC8vIERvIG5vdGhpbmdcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICAkc2NvcGUuc2F2ZUNvbXBvc2l0ZXNUZXh0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGlmICgkc2NvcGUuY29tcG9zaXRlc0NsYXNzLmlzTmV3KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ0NyZWF0ZSBOZXcgQ29tcG9zaXRlcyc7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ1VwZGF0ZSBDb21wb3NpdGVzJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9KTsiLCJhbmd1bGFyLm1vZHVsZSgnc3RvcnlNb2R1bGUnLCBbXSlcclxuICAgIC5jb250cm9sbGVyKCdzdG9yeUN0cmwnLCBmdW5jdGlvbigkc2NvcGUsICRodHRwLCAkbW9kYWwsICRsb2NhdGlvbiwgJGNvb2tpZVN0b3JlLCAkcSwgJGFuY2hvclNjcm9sbCwgJHRpbWVvdXQsIHN0b3J5LCBzdGVwcywgZ3Jvb3Z5Q29tcG9zaXRlcywgVGNCZGRTZXJ2aWNlKSB7XHJcbiAgICAgICAgJHNjb3BlLnBlbmRpbmdTdGVwcyA9IFtdO1xyXG4gICAgICAgICRzY29wZS5zZXRBY3Rpb24gPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgaWYgKCRzY29wZS5zdG9yeS5uYW1lICE9PSAnJykge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFjdGlvbiA9ICdQVVQnO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFjdGlvbiA9ICdQT1NUJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgJHNjb3BlLmV4cGFuZFBhbmVscyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgc2NlbmFyaW9zRXhwYW5kZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBpZiAoJHNjb3BlLnBhbmVsc0V4cGFuZGVkID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5wYW5lbHNFeHBhbmRlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnBhbmVsc0V4cGFuZGVkID0gISRzY29wZS5wYW5lbHNFeHBhbmRlZDtcclxuICAgICAgICAgICAgICAgIHNjZW5hcmlvc0V4cGFuZGVkID0gJHNjb3BlLnBhbmVsc0V4cGFuZGVkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICRzY29wZS5wYW5lbHMgPSB7XHJcbiAgICAgICAgICAgICAgICBzdG9yeTogJHNjb3BlLnBhbmVsc0V4cGFuZGVkLFxyXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICRzY29wZS5wYW5lbHNFeHBhbmRlZCxcclxuICAgICAgICAgICAgICAgIG1ldGE6ICRzY29wZS5wYW5lbHNFeHBhbmRlZCxcclxuICAgICAgICAgICAgICAgIG5hcnJhdGl2ZTogJHNjb3BlLnBhbmVsc0V4cGFuZGVkLFxyXG4gICAgICAgICAgICAgICAgZ2l2ZW5TdG9yaWVzOiAkc2NvcGUucGFuZWxzRXhwYW5kZWQsXHJcbiAgICAgICAgICAgICAgICBsaWZlY3ljbGU6ICRzY29wZS5wYW5lbHNFeHBhbmRlZCxcclxuICAgICAgICAgICAgICAgIHNjZW5hcmlvczogc2NlbmFyaW9zRXhwYW5kZWRcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9O1xyXG4gICAgICAgICRzY29wZS5zdG9yeSA9IHN0b3J5O1xyXG4gICAgICAgICRzY29wZS5zdGVwcyA9IHN0ZXBzO1xyXG4gICAgICAgICRzY29wZS5ncm9vdnlDb21wb3NpdGVzID0gZ3Jvb3Z5Q29tcG9zaXRlcztcclxuICAgICAgICAkc2NvcGUuc3RlcFR5cGVzID0gWydHSVZFTicsICdXSEVOJywgJ1RIRU4nXTtcclxuICAgICAgICAkc2NvcGUuc3RvcnlGb3JtQ2xhc3MgPSAnY29sLW1kLTEyJztcclxuICAgICAgICAkc2NvcGUuc3RvcnlSdW5uZXJWaXNpYmxlID0gZmFsc2U7XHJcbiAgICAgICAgJHNjb3BlLnN0b3J5UnVubmVySW5Qcm9ncmVzcyA9IGZhbHNlO1xyXG4gICAgICAgICRzY29wZS5zdG9yeVJ1bm5lclN1Y2Nlc3MgPSB0cnVlO1xyXG4gICAgICAgICRzY29wZS5leHBhbmRQYW5lbHMoKTtcclxuICAgICAgICAkc2NvcGUub3JpZ2luYWxTdG9yeSA9IGFuZ3VsYXIuY29weShzdG9yeSk7XHJcbiAgICAgICAgdmFyIHBhdGhBcnJheSA9ICRzY29wZS5zdG9yeS5wYXRoLnNwbGl0KCcvJyk7XHJcbiAgICAgICAgJHNjb3BlLmRpclBhdGggPSBwYXRoQXJyYXkuc2xpY2UoMCwgcGF0aEFycmF5Lmxlbmd0aCAtIDEpLmpvaW4oJy8nKTtcclxuICAgICAgICBpZiAoJHNjb3BlLmRpclBhdGggIT09ICcnKSB7XHJcbiAgICAgICAgICAgICRzY29wZS5kaXJQYXRoICs9ICcvJztcclxuICAgICAgICB9XHJcbiAgICAgICAgJHNjb3BlLnNldEFjdGlvbigpO1xyXG4gICAgICAgICRzY29wZS5jc3NDbGFzcyA9IFRjQmRkU2VydmljZS5jc3NDbGFzcztcclxuICAgICAgICAkc2NvcGUuYnV0dG9uQ3NzQ2xhc3MgPSBUY0JkZFNlcnZpY2UuYnV0dG9uQ3NzQ2xhc3M7XHJcbiAgICAgICAgJHNjb3BlLmNhblNhdmVTdG9yeSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgaXNWYWxpZCA9ICRzY29wZS5zdG9yeUZvcm0uJHZhbGlkO1xyXG4gICAgICAgICAgICB2YXIgaGFzQ2hhbmdlZCA9ICFhbmd1bGFyLmVxdWFscygkc2NvcGUuc3RvcnksICRzY29wZS5vcmlnaW5hbFN0b3J5KTtcclxuICAgICAgICAgICAgcmV0dXJuIGlzVmFsaWQgJiYgaGFzQ2hhbmdlZDtcclxuICAgICAgICB9O1xyXG4gICAgICAgICRzY29wZS5zdGVwVGV4dFBhdHRlcm4gPSBUY0JkZFNlcnZpY2Uuc3RlcFRleHRQYXR0ZXJuO1xyXG4gICAgICAgIC8vIFRPRE8gVGVzdFxyXG4gICAgICAgICRzY29wZS5zYXZlU3RvcnkgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgaWYgKCRzY29wZS5jYW5TYXZlU3RvcnkoKSkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnN0b3J5LnBhdGggPSAkc2NvcGUuZGlyUGF0aCArICRzY29wZS5zdG9yeS5uYW1lICsgXCIuc3RvcnlcIjtcclxuICAgICAgICAgICAgICAgIGlmICgnUE9TVCcgPT09ICRzY29wZS5hY3Rpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc3RyaXBwZWRQYXRoQXJyYXkgPSAkc2NvcGUuZGlyUGF0aC5zcGxpdCgnLycpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzdHJpcHBlZFBhdGggPSBzdHJpcHBlZFBhdGhBcnJheS5zbGljZSgwLCBzdHJpcHBlZFBhdGhBcnJheS5sZW5ndGggLSAxKS5qb2luKCcvJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0cmlwcGVkUGF0aCAhPT0gJycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RyaXBwZWRQYXRoICs9ICcvJztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAucG9zdCgnL3N0b3JpZXMvc3RvcnkuanNvbicsICRzY29wZS5zdG9yeSkudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvcGFnZS9zdG9yaWVzL3ZpZXcvJyArIHN0cmlwcGVkUGF0aCArICRzY29wZS5zdG9yeS5uYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9yaWdpbmFsU3RvcnkgPSBhbmd1bGFyLmNvcHkoJHNjb3BlLnN0b3J5KTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9wZW5FcnJvck1vZGFsKHJlc3BvbnNlLmRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLnN0b3J5Lm5hbWUgIT09ICRzY29wZS5vcmlnaW5hbFN0b3J5Lm5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnN0b3J5Lm9yaWdpbmFsUGF0aCA9ICRzY29wZS5vcmlnaW5hbFN0b3J5LnBhdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLnB1dCgnL3N0b3JpZXMvc3RvcnkuanNvbicsICRzY29wZS5zdG9yeSkudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vcmlnaW5hbFN0b3J5ID0gYW5ndWxhci5jb3B5KCRzY29wZS5zdG9yeSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vcGVuRXJyb3JNb2RhbChyZXNwb25zZS5kYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgJHNjb3BlLmNhblJ1blN0b3J5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gJHNjb3BlLnN0b3J5Rm9ybS4kdmFsaWQgJiYgISRzY29wZS5zdG9yeVJ1bm5lckluUHJvZ3Jlc3M7XHJcbiAgICAgICAgfTtcclxuICAgICAgICAvLyBUT0RPIFRlc3RcclxuICAgICAgICAkc2NvcGUucnVuU3RvcnkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmICgkc2NvcGUuY2FuUnVuU3RvcnkoKSkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNhdmVTdG9yeSgpO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm9wZW5SdW5uZXJNb2RhbCgpLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNsYXNzZXMgPSBkYXRhLmNsYXNzZXM7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnN0b3J5Rm9ybUNsYXNzID0gJ2NvbC1tZC02JztcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc3RvcnlSdW5uZXJDbGFzcyA9ICdjb2wtbWQtNic7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnN0b3J5UnVubmVyVmlzaWJsZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnN0b3J5UnVubmVySW5Qcm9ncmVzcyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3Nlcy5mb3JFYWNoKGZ1bmN0aW9uIChjbGFzc0VudHJ5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzRW50cnkucGFyYW1zLmZvckVhY2goZnVuY3Rpb24gKHBhcmFtRW50cnkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRjb29raWVTdG9yZS5wdXQoY2xhc3NFbnRyeS5mdWxsTmFtZSArIFwiLlwiICsgcGFyYW1FbnRyeS5rZXksIHBhcmFtRW50cnkudmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIganNvbiA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RvcnlQYXRoczogW3twYXRoOiAkc2NvcGUuc3RvcnkucGF0aH1dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc2VzOiBjbGFzc2VzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBncm9vdnlDb21wb3NpdGVzOiAkc2NvcGUuZ3Jvb3Z5Q29tcG9zaXRlc1xyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAucG9zdCgnL3J1bm5lci9ydW4uanNvbicsIGpzb24pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5nZXRSZXBvcnRzKHJlc3BvbnNlLmRhdGEuaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc3RvcnlSdW5uZXJTdWNjZXNzID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zdG9yeVJ1bm5lckluUHJvZ3Jlc3MgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9wZW5FcnJvck1vZGFsKHJlc3BvbnNlLmRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUub3BlbkVycm9yTW9kYWwocmVzcG9uc2UuZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgJHNjb3BlLmdldFJlcG9ydHMgPSBmdW5jdGlvbihyZXBvcnRzSWQpIHtcclxuICAgICAgICAgICAgJGh0dHAuZ2V0KCcvYXBpL3YxL3JlcG9ydGVycy9saXN0LycgKyByZXBvcnRzSWQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5zdGF0dXMgIT09ICdmaW5pc2hlZCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc3RvcnlSdW5uZXJJblByb2dyZXNzID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmdldFJlcG9ydHMocmVwb3J0c0lkKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCA1MDAwKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlcG9ydHMgPSByZXNwb25zZS5kYXRhLnJlcG9ydHM7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnJlcG9ydHMgPSByZXBvcnRzO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5yZXBvcnRzLmlkID0gcmVwb3J0c0lkO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zZXRQZW5kaW5nU3RlcHMocmVwb3J0cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnN0b3J5UnVubmVySW5Qcm9ncmVzcyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zdG9yeVJ1bm5lclN1Y2Nlc3MgPSAkc2NvcGUuaXNTdG9yeVJ1bm5lclN1Y2Nlc3MocmVwb3J0cyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEubWVzc2FnZSA9PT0gJ0lEIGlzIE5PVCBjb3JyZWN0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZ2V0UmVwb3J0cyhyZXBvcnRzSWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIDUwMDApO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc3RvcnlSdW5uZXJJblByb2dyZXNzID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgVGNCZGRTZXJ2aWNlLm9wZW5FcnJvck1vZGFsKHJlc3BvbnNlLmRhdGEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgICRzY29wZS5pc1N0b3J5UnVubmVyU3VjY2VzcyA9IGZ1bmN0aW9uKHJlcG9ydHMpIHtcclxuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHRydWU7XHJcbiAgICAgICAgICAgIHJlcG9ydHMuZm9yRWFjaChmdW5jdGlvbihyZXBvcnQpIHtcclxuICAgICAgICAgICAgICAgIHJlcG9ydC5zdGVwcy5mb3JFYWNoKGZ1bmN0aW9uKHN0ZXApIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc3RlcC5zdGF0dXMgIT09ICdzdWNjZXNzZnVsJyAmJiBzdGVwLnN0YXR1cyAhPT0gJ3BlbmRpbmcnICYmIHN0ZXAuc3RhdHVzICE9PSAnbm90UGVyZm9ybWVkJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgfTtcclxuICAgICAgICAkc2NvcGUuZ2V0UmVwb3J0VXJsID0gZnVuY3Rpb24ocmVwb3J0c0lkLCByZXBvcnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuICcvYXBpL3YxL3JlcG9ydGVycy9nZXQvJyArIHJlcG9ydHNJZCArICcvJyArIHJlcG9ydDtcclxuICAgICAgICB9O1xyXG4gICAgICAgICRzY29wZS5vcGVuUnVubmVyTW9kYWwgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFRjQmRkU2VydmljZS5vcGVuUnVubmVyUGFyYW1ldGVyc01vZGFsKGZhbHNlKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgICRzY29wZS5nZXRSdW5uZXJQcm9ncmVzc0NzcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFRjQmRkU2VydmljZS5nZXRSdW5uZXJQcm9ncmVzc0Nzcygkc2NvcGUuc3RvcnlSdW5uZXJJblByb2dyZXNzKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgICRzY29wZS5nZXRSdW5uZXJTdGF0dXNDc3MgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBUY0JkZFNlcnZpY2UuZ2V0UnVubmVyU3RhdHVzQ3NzKFxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnN0b3J5UnVubmVySW5Qcm9ncmVzcyxcclxuICAgICAgICAgICAgICAgICRzY29wZS5zdG9yeVJ1bm5lclN1Y2Nlc3MsXHJcbiAgICAgICAgICAgICAgICAoJHNjb3BlLnBlbmRpbmdTdGVwcyA+IDApXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICAkc2NvcGUuc2V0UGVuZGluZ1N0ZXBzID0gZnVuY3Rpb24ocmVwb3J0cykge1xyXG4gICAgICAgICAgICAkc2NvcGUucGVuZGluZ1N0ZXBzID0gW107XHJcbiAgICAgICAgICAgIHJlcG9ydHMuZm9yRWFjaChmdW5jdGlvbihyZXBvcnQpIHtcclxuICAgICAgICAgICAgICAgIHJlcG9ydC5zdGVwcy5mb3JFYWNoKGZ1bmN0aW9uKHN0ZXApIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc3RlcC5zdGF0dXMgPT09ICdwZW5kaW5nJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUucGVuZGluZ1N0ZXBzLnB1c2goe3RleHQ6IHN0ZXAudGV4dH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAkc2NvcGUuaGFzUGVuZGluZ1N0ZXBzID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAkc2NvcGUucGVuZGluZ1N0ZXBzICE9PSB1bmRlZmluZWQgJiYgJHNjb3BlLnBlbmRpbmdTdGVwcy5sZW5ndGggPiAwO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgJHNjb3BlLmdldFN0b3J5UnVubmVyU3RhdHVzVGV4dCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFRjQmRkU2VydmljZS5nZXRTdG9yeVJ1bm5lclN0YXR1c1RleHQoXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc3RvcnlSdW5uZXJJblByb2dyZXNzLFxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnN0b3J5UnVubmVyU3VjY2VzcyxcclxuICAgICAgICAgICAgICAgICRzY29wZS5wZW5kaW5nU3RlcHMubGVuZ3RoXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICAkc2NvcGUucmVtb3ZlQ29sbGVjdGlvbkVsZW1lbnQgPSBUY0JkZFNlcnZpY2UucmVtb3ZlQ29sbGVjdGlvbkVsZW1lbnQ7XHJcbiAgICAgICAgJHNjb3BlLmFkZEVsZW1lbnQgPSBmdW5jdGlvbiAoY29sbGVjdGlvbikge1xyXG4gICAgICAgICAgICBjb2xsZWN0aW9uLnB1c2goe30pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgJHNjb3BlLmFkZFNjZW5hcmlvRWxlbWVudCA9IGZ1bmN0aW9uIChjb2xsZWN0aW9uKSB7XHJcbiAgICAgICAgICAgIGNvbGxlY3Rpb24ucHVzaCh7dGl0bGU6ICcnLCBtZXRhOiBbXSwgc3RlcHM6IFtdLCBleGFtcGxlc1RhYmxlOiAnJ30pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgJHNjb3BlLnJldmVydFN0b3J5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAkc2NvcGUuc3RvcnkgPSBhbmd1bGFyLmNvcHkoJHNjb3BlLm9yaWdpbmFsU3RvcnkpO1xyXG4gICAgICAgICAgICAkc2NvcGUuc3RvcnlGb3JtLiRzZXRQcmlzdGluZSgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgJHNjb3BlLmNhblJldmVydFN0b3J5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gIWFuZ3VsYXIuZXF1YWxzKCRzY29wZS5zdG9yeSwgJHNjb3BlLm9yaWdpbmFsU3RvcnkpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgJHNjb3BlLmNhbkRlbGV0ZVN0b3J5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gJHNjb3BlLmFjdGlvbiA9PT0gJ1BVVCcgJiYgISRzY29wZS5zdG9yeVJ1bm5lckluUHJvZ3Jlc3M7XHJcbiAgICAgICAgfTtcclxuICAgICAgICAvLyBUT0RPIFRlc3RcclxuICAgICAgICAkc2NvcGUuZGVsZXRlU3RvcnkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBwYXRoID0gJHNjb3BlLmRpclBhdGggKyAkc2NvcGUuc3RvcnkubmFtZSArICcuc3RvcnknO1xyXG4gICAgICAgICAgICBUY0JkZFNlcnZpY2UuZGVsZXRlU3RvcnkocGF0aCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICAkc2NvcGUuc3RlcEVudGVyS2V5ID0gVGNCZGRTZXJ2aWNlLm5ld0NvbGxlY3Rpb25JdGVtO1xyXG4gICAgICAgIC8vIFRPRE8gVGVzdFxyXG4gICAgICAgICRzY29wZS5jbGlja1BlbmRpbmdTdGVwID0gZnVuY3Rpb24oc3RlcFRleHQpIHtcclxuICAgICAgICAgICAgdmFyIGNvbXBvc2l0ZUNsYXNzID0gJGNvb2tpZVN0b3JlLmdldChcImNvbXBvc2l0ZUNsYXNzXCIpO1xyXG4gICAgICAgICAgICBpZiAoY29tcG9zaXRlQ2xhc3MgPT09IHVuZGVmaW5lZCB8fCBjb21wb3NpdGVDbGFzcyA9PT0gJycpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBUY0JkZFNlcnZpY2Uub3BlbkNvbXBvc2l0ZUNsYXNzKHN0ZXBUZXh0KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAkbG9jYXRpb24uc2VhcmNoKCdzdGVwVGV4dCcsIHN0ZXBUZXh0KS5wYXRoKCcvcGFnZS9jb21wb3NpdGVzLycgKyBjb21wb3NpdGVDbGFzcyArICcuZ3Jvb3Z5Jyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIC8vIFRPRE8gVGVzdFxyXG4gICAgICAgICRzY29wZS5vcGVuRXJyb3JNb2RhbCA9IFRjQmRkU2VydmljZS5vcGVuRXJyb3JNb2RhbDtcclxuICAgIH0pOyIsImFuZ3VsYXIubW9kdWxlKCdydW5uZXJNb2R1bGUnLCBbXSlcclxuICAgIC5jb250cm9sbGVyKCdydW5uZXJDdHJsJywgZnVuY3Rpb24oJHNjb3BlLCAkbW9kYWwsICRodHRwLCAkbG9jYXRpb24sICR0aW1lb3V0LCBUY0JkZFNlcnZpY2UpIHtcclxuICAgICAgICAvLyBUT0RPIFRlc3QgbW9yZSB0aGFuIGNoZWNraW5nIHdoZXRoZXIgJG1vZGFsLm9wZW4gd2FzIGNhbGxlZFxyXG4gICAgICAgICRzY29wZS5vcGVuUnVubmVyU2VsZWN0b3IgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcmV0dXJuICRtb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL2Fzc2V0cy9odG1sL3J1bm5lci9ydW5uZXJTZWxlY3Rvci50bXBsLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3J1bm5lclNlbGVjdG9yQ3RybCcsXHJcbiAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7fTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgLy8gVE9ETyBUZXN0XHJcbiAgICAgICAgJHNjb3BlLm9wZW5SdW5uZXIgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIHJ1bm5lclNlbGVjdG9yID0gJHNjb3BlLm9wZW5SdW5uZXJTZWxlY3RvcigpO1xyXG4gICAgICAgICAgICBpZiAocnVubmVyU2VsZWN0b3IgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgcnVubmVyU2VsZWN0b3IucmVzdWx0LnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc3RvcnlQYXRocyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEuZGlycy5mb3JFYWNoKGZ1bmN0aW9uIChkaXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RvcnlQYXRocy5wdXNoKHtwYXRoOiBkaXIucGF0aCArIFwiLyoqLyouc3RvcnlcIn0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEuc3Rvcmllcy5mb3JFYWNoKGZ1bmN0aW9uIChzdG9yeSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdG9yeVBhdGhzLnB1c2goe3BhdGg6IHN0b3J5LnBhdGh9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBUY0JkZFNlcnZpY2Uub3BlblJ1bm5lclBhcmFtZXRlcnNNb2RhbCh0cnVlKS5yZXN1bHQudGhlbihmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2xhc3NlcyA9IGRhdGEuY2xhc3NlcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFjdGlvbiA9IGRhdGEuYWN0aW9uO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5nZXQoJy9ncm9vdnlDb21wb3NpdGVzJykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBncm9vdnlDb21wb3NpdGVzID0gcmVzcG9uc2UuZGF0YTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hcGlKc29uID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3J5UGF0aHM6IHN0b3J5UGF0aHMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NlczogY2xhc3NlcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncm9vdnlDb21wb3NpdGVzOiBncm9vdnlDb21wb3NpdGVzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFjdGlvbiA9PT0gJ3J1bicpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUucnVuKCRzY29wZS5hcGlKc29uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FwaSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FwaSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgICRzY29wZS5ydW4gPSBmdW5jdGlvbihqc29uKSB7XHJcbiAgICAgICAgICAgIHZhciByZXBvcnRzUHJlZml4ID0gJy9hcGkvdjEvcmVwb3J0ZXJzL2dldC8nO1xyXG4gICAgICAgICAgICAkc2NvcGUucmVwb3J0c1VybCA9ICcnO1xyXG4gICAgICAgICAgICAkc2NvcGUuc3RvcnlSdW5uZXJTdWNjZXNzID0gZmFsc2U7XHJcbiAgICAgICAgICAgICRzY29wZS5zaG93UnVubmVyUHJvZ3Jlc3MgPSB0cnVlO1xyXG4gICAgICAgICAgICAkaHR0cC5wb3N0KCcvcnVubmVyL3J1bi5qc29uJywganNvbikudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgIHZhciBkYXRhID0gcmVzcG9uc2UuZGF0YTtcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhLnN0YXR1cyA9PT0gJ09LJykge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5yZXBvcnRzVXJsID0gcmVwb3J0c1ByZWZpeCArIGRhdGEucmVwb3J0c1BhdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnN0b3J5UnVubmVySW5Qcm9ncmVzcyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmdldFJlcG9ydHMoZGF0YS5pZCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGRhdGEuc3RhdHVzID09PSAnRkFJTEVEJykge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5yZXBvcnRzVXJsID0gcmVwb3J0c1ByZWZpeCArIGRhdGEucmVwb3J0c1BhdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnN0b3J5UnVubmVySW5Qcm9ncmVzcyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBUY0JkZFNlcnZpY2Uub3BlbkVycm9yTW9kYWwoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnN0b3J5UnVubmVySW5Qcm9ncmVzcyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnN0b3J5UnVubmVyU3VjY2VzcyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgVGNCZGRTZXJ2aWNlLm9wZW5FcnJvck1vZGFsKHJlc3BvbnNlLmRhdGEpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgICRzY29wZS5nZXRSZXBvcnRzID0gZnVuY3Rpb24ocmVwb3J0c0lkKSB7XHJcbiAgICAgICAgICAgICRodHRwLmdldCgnL2FwaS92MS9yZXBvcnRlcnMvbGlzdC8nICsgcmVwb3J0c0lkKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnJlcG9ydHMgPSByZXNwb25zZS5kYXRhO1xyXG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS5yZXBvcnRzLnN0YXR1cyAhPT0gJ2ZpbmlzaGVkJykge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93UnVubmVyUHJvZ3Jlc3MgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZ2V0UmVwb3J0cyhyZXBvcnRzSWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIDUwMDApO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd1J1bm5lclByb2dyZXNzID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEubWVzc2FnZSA9PT0gJ0lEIGlzIE5PVCBjb3JyZWN0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZ2V0UmVwb3J0cyhyZXBvcnRzSWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIDUwMDApO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd1J1bm5lclByb2dyZXNzID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgVGNCZGRTZXJ2aWNlLm9wZW5FcnJvck1vZGFsKHJlc3BvbnNlLmRhdGEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgICRzY29wZS5nZXRSdW5uZXJTdGF0dXNDc3MgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBUY0JkZFNlcnZpY2UuZ2V0UnVubmVyU3RhdHVzQ3NzKFxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnN0b3J5UnVubmVySW5Qcm9ncmVzcyxcclxuICAgICAgICAgICAgICAgICRzY29wZS5zdG9yeVJ1bm5lclN1Y2Nlc3MsXHJcbiAgICAgICAgICAgICAgICAoJHNjb3BlLnBlbmRpbmdTdGVwcyA+IDApXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICAkc2NvcGUuZ2V0U3RvcnlSdW5uZXJTdGF0dXNUZXh0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoJHNjb3BlLnN0b3J5UnVubmVySW5Qcm9ncmVzcykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICdTdG9yaWVzIHJ1biBpcyBpbiBwcm9ncmVzcyc7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ1N0b3JpZXMgcnVuIGlzIGZpbmlzaGVkJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgJHNjb3BlLmdldFJ1bm5lclByb2dyZXNzQ3NzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gVGNCZGRTZXJ2aWNlLmdldFJ1bm5lclByb2dyZXNzQ3NzKCRzY29wZS5zdG9yeVJ1bm5lckluUHJvZ3Jlc3MpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgJHNjb3BlLmluaXQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgJHNjb3BlLnN0b3J5UnVubmVySW5Qcm9ncmVzcyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAkc2NvcGUuc3RvcnlSdW5uZXJTdWNjZXNzID0gZmFsc2U7XHJcbiAgICAgICAgICAgICRzY29wZS5zaG93UnVubmVyUHJvZ3Jlc3MgPSBmYWxzZTtcclxuICAgICAgICAgICAgJHNjb3BlLnBlbmRpbmdTdGVwcyA9IFtdO1xyXG4gICAgICAgICAgICAkc2NvcGUucmVwb3J0c1VybCA9ICcnO1xyXG4gICAgICAgICAgICAkc2NvcGUub3BlblJ1bm5lcigpO1xyXG4gICAgICAgICAgICAkc2NvcGUuc2hvd0FwaSA9IGZhbHNlO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgJHNjb3BlLmFwaVVybCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gJGxvY2F0aW9uLnByb3RvY29sKCkgKyAnOi8vJyArICRsb2NhdGlvbi5ob3N0KCkgKyAnOicgKyAkbG9jYXRpb24ucG9ydCgpICsgJy9ydW5uZXIvcnVuLmpzb24nO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgJHNjb3BlLmluaXQoKTtcclxuICAgIH0pXHJcbiAgICAuY29udHJvbGxlcigncnVubmVyU2VsZWN0b3JDdHJsJywgZnVuY3Rpb24oJHNjb3BlLCAkaHR0cCwgJG1vZGFsLCAkbW9kYWxJbnN0YW5jZSwgVGNCZGRTZXJ2aWNlKSB7XHJcbiAgICAgICAgJHNjb3BlLmZpbGVzID0ge2RpcnM6IFtdLCBzdG9yaWVzOiBbXX07XHJcbiAgICAgICAgVGNCZGRTZXJ2aWNlLmdldFN0b3JpZXMoJHNjb3BlLCAnJyk7XHJcbiAgICAgICAgJHNjb3BlLm9wZW5EaXIgPSBmdW5jdGlvbihwYXRoKSB7XHJcbiAgICAgICAgICAgIFRjQmRkU2VydmljZS5vcGVuRGlyKCRzY29wZSwgcGF0aCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICAkc2NvcGUuY2FuY2VsUnVubmVyU2VsZWN0b3IgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICRtb2RhbEluc3RhbmNlLmRpc21pc3MoJ2NhbmNlbCcpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgJHNjb3BlLm9rUnVubmVyU2VsZWN0b3IgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIHNlbGVjdGVkRmlsZXMgPSB7ZGlyczogW10sIHN0b3JpZXM6IFtdfTtcclxuICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKCRzY29wZS5maWxlcy5kaXJzLCBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlLnNlbGVjdGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRGaWxlcy5kaXJzLnB1c2goe3BhdGg6ICRzY29wZS5yb290UGF0aCArIHZhbHVlLm5hbWV9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCgkc2NvcGUuZmlsZXMuc3RvcmllcywgZnVuY3Rpb24odmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5zZWxlY3RlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkRmlsZXMuc3Rvcmllcy5wdXNoKHtwYXRoOiAkc2NvcGUucm9vdFBhdGggKyB2YWx1ZS5uYW1lICsgXCIuc3RvcnlcIn0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgJG1vZGFsSW5zdGFuY2UuY2xvc2Uoc2VsZWN0ZWRGaWxlcyk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICAkc2NvcGUuYWxsb3dUb1ByZXZEaXIgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcmV0dXJuICRzY29wZS5yb290UGF0aCAhPT0gJyc7XHJcbiAgICAgICAgfTtcclxuICAgICAgICAkc2NvcGUuY2FuQ29udGludWUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIGhhc1NlbGVjdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCgkc2NvcGUuZmlsZXMuZGlycywgZnVuY3Rpb24odmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5zZWxlY3RlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGhhc1NlbGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGlmICghaGFzU2VsZWN0ZWQpIHtcclxuICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCgkc2NvcGUuZmlsZXMuc3RvcmllcywgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLnNlbGVjdGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc1NlbGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gaGFzU2VsZWN0ZWQ7XHJcbiAgICAgICAgfTtcclxuICAgIH0pXHJcbiAgICAuY29udHJvbGxlcigncnVubmVyUGFyYW1zQ3RybCcsIGZ1bmN0aW9uICgkc2NvcGUsICRtb2RhbEluc3RhbmNlLCAkY29va2llU3RvcmUsIGRhdGEsIHNob3dHZXRBcGkpIHtcclxuICAgICAgICAkc2NvcGUuY2xhc3NlcyA9IGRhdGEuY2xhc3NlcztcclxuICAgICAgICAkc2NvcGUucGFyYW1BcnJheSA9IFtdO1xyXG4gICAgICAgICRzY29wZS5zZXRQYXJhbXMgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgJHNjb3BlLmNsYXNzZXMuZm9yRWFjaChmdW5jdGlvbihjbGFzc0VudHJ5KSB7XHJcbiAgICAgICAgICAgICAgICBjbGFzc0VudHJ5LnBhcmFtcy5mb3JFYWNoKGZ1bmN0aW9uKHBhcmFtRW50cnkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocGFyYW1FbnRyeS52YWx1ZSAhPT0gdW5kZWZpbmVkICYmIHBhcmFtRW50cnkudmFsdWUgIT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtRW50cnkuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtRW50cnkuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtRW50cnkudmFsdWUgPSAkY29va2llU3RvcmUuZ2V0KGNsYXNzRW50cnkuZnVsbE5hbWUgKyBcIi5cIiArIHBhcmFtRW50cnkua2V5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaChlcnIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdDb3VsZCBub3QgcmV0cmlldmUgY29va2llICcgKyBjbGFzc0VudHJ5LmZ1bGxOYW1lICsgXCIuXCIgKyBwYXJhbUVudHJ5LmtleSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuXHRcdCRzY29wZS5oYXNPcHRpb25zID0gZnVuY3Rpb24ob3B0aW9ucykge1xyXG5cdFx0XHRpZiAob3B0aW9ucykge1xyXG5cdFx0XHQgIHJldHVybiBvcHRpb25zLmxlbmd0aCA+IDA7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdCAgcmV0dXJuIGZhbHNlO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG4gICAgICAgICRzY29wZS5oYXNQYXJhbXMgPSBmdW5jdGlvbihjbGFzc0VudHJ5KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjbGFzc0VudHJ5LnBhcmFtcyAhPT0gdW5kZWZpbmVkICYmIGNsYXNzRW50cnkucGFyYW1zLmxlbmd0aCA+IDA7XHJcbiAgICAgICAgfTtcclxuICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgJG1vZGFsSW5zdGFuY2UuY2xvc2Uoe2FjdGlvbjogJ3J1bicsIGNsYXNzZXM6ICRzY29wZS5jbGFzc2VzfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICAkc2NvcGUuY2FuY2VsID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICRtb2RhbEluc3RhbmNlLmRpc21pc3MoJ2NhbmNlbCcpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgJHNjb3BlLnNob3dHZXRBcGkgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHNob3dHZXRBcGk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICAkc2NvcGUuZ2V0QXBpID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICRtb2RhbEluc3RhbmNlLmNsb3NlKHthY3Rpb246ICdhcGknLCBjbGFzc2VzOiAkc2NvcGUuY2xhc3Nlc30pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgJHNjb3BlLnBhcmFtRWxlbWVudElkID0gZnVuY3Rpb24oY2xhc3NOYW1lLCBwYXJhbUtleSkge1xyXG4gICAgICAgICAgICB2YXIgZm9ybWF0dGVkQ2xhc3NOYW1lID0gY2xhc3NOYW1lLmNoYXJBdCgwKS50b0xvd2VyQ2FzZSgpICsgY2xhc3NOYW1lLnNsaWNlKDEpO1xyXG4gICAgICAgICAgICB2YXIgZm9ybWF0dGVkUGFyYW1LZXkgPSBwYXJhbUtleS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHBhcmFtS2V5LnNsaWNlKDEpO1xyXG4gICAgICAgICAgICByZXR1cm4gZm9ybWF0dGVkQ2xhc3NOYW1lICsgZm9ybWF0dGVkUGFyYW1LZXk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICAkc2NvcGUuc2V0UGFyYW1zKCk7XHJcbiAgICB9KTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ2xvZ2luTW9kdWxlJywgW10pXHJcbiAgICAuY29udHJvbGxlcignbG9naW5DdHJsJywgZnVuY3Rpb24oJHNjb3BlLCAkbG9jYXRpb24sIFRjQmRkU2VydmljZSkge1xyXG4gICAgICAgICRzY29wZS5pbml0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAkc2NvcGUudXNlcnMgPSBbXTtcclxuICAgICAgICB9O1xyXG4gICAgICAgICRzY29wZS5jc3NDbGFzcyA9IFRjQmRkU2VydmljZS5jc3NDbGFzcztcclxuICAgICAgICAkc2NvcGUuYnV0dG9uQ3NzQ2xhc3MgPSBUY0JkZFNlcnZpY2UuYnV0dG9uQ3NzQ2xhc3M7XHJcbiAgICAgICAgJHNjb3BlLmNhbkxvZ2luID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gJHNjb3BlLmxvZ2luRm9ybS4kdmFsaWQ7XHJcbiAgICAgICAgfTtcclxuICAgICAgICAvLyBUT0RPIFJlbW92ZSB3aGVuIHRoZSByZWFsIHNvbHV0aW9uIGlzIGRvbmVcclxuICAgICAgICAkc2NvcGUucmVnaXN0ZXIgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgJHNjb3BlLnVzZXJzLnB1c2goJHNjb3BlLnVzZXIpO1xyXG4gICAgICAgICAgICAkc2NvcGUudXNlciA9IHt9O1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgLy8gVE9ETyBSZW1vdmUgd2hlbiB0aGUgcmVhbCBzb2x1dGlvbiBpcyBkb25lXHJcbiAgICAgICAgJHNjb3BlLmRlbGV0ZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goJHNjb3BlLnVzZXJzLCBmdW5jdGlvbih1c2VyLCBpbmRleCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHVzZXIudXNlcm5hbWUgPT09ICRzY29wZS51c2VyLnVzZXJuYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnVzZXJzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnVzZXIgPSB7fTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICAkc2NvcGUubG9naW4gPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgLy8gVE9ETyBTd2l0Y2ggdG8gdGhlIHJlYWwgSFRUUCByZXF1ZXN0XHJcbiAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCgkc2NvcGUudXNlcnMsIGZ1bmN0aW9uKHVzZXIsIGluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodXNlci51c2VybmFtZSA9PT0gJHNjb3BlLnVzZXIudXNlcm5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnL3BhZ2UvbG9naW5XZWxjb21lJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAkc2NvcGUudXNlci5ub3RSZWdpc3RlcmVkID0gdHJ1ZTtcclxuICAgICAgICB9O1xyXG4gICAgICAgICRzY29wZS5pbml0KCk7XHJcbiAgICB9KVxyXG4gICAgLmNvbnRyb2xsZXIoJ2xvZ2luV2VsY29tZUN0cmwnLCBmdW5jdGlvbigkc2NvcGUpIHtcclxuICAgIH0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgndG9wTWVudU1vZHVsZScsIFtdKVxyXG4gICAgLmNvbnRyb2xsZXIoJ3RvcE1lbnVDb250cm9sbGVyJywgZnVuY3Rpb24oJHNjb3BlLCAkbW9kYWwsICRsb2NhdGlvbiwgVGNCZGRTZXJ2aWNlKSB7XHJcbiAgICAgICAgLy8gVE9ETyBUZXN0IG1vcmUgdGhhbiBjaGVja2luZyB3aGV0aGVyICRtb2RhbC5vcGVuIHdhcyBjYWxsZWRcclxuICAgICAgICAkc2NvcGUub3BlblN0b3J5ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICRtb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL2Fzc2V0cy9odG1sL3N0b3JpZXMudG1wbC5odG1sJyxcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdzdG9yaWVzQ3RybCcsXHJcbiAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7fTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgJHNjb3BlLm9wZW5Db21wb3NpdGVDbGFzcyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBUY0JkZFNlcnZpY2Uub3BlbkNvbXBvc2l0ZUNsYXNzKCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICAkc2NvcGUuZ2V0VGl0bGUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIHBhdGggPSAkbG9jYXRpb24ucGF0aCgpO1xyXG4gICAgICAgICAgICBpZiAocGF0aC5pbmRleE9mKCcvcGFnZS9zdG9yaWVzL3ZpZXcvJykgPT09IDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAnVmlldyBTdG9yeSc7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocGF0aC5pbmRleE9mKCcvcGFnZS9zdG9yaWVzL25ldy8nKSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICdOZXcgU3RvcnknO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHBhdGguaW5kZXhPZignL3BhZ2UvY29tcG9zaXRlcy8nKSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICdDb21wb3NpdGVzJztcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChwYXRoLmluZGV4T2YoJy9wYWdlL3JlcG9ydHMvJykgPT09IDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAnUmVwb3J0cyc7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocGF0aC5pbmRleE9mKCcvcGFnZS9sb2dpbi8nKSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICdMb2dpbic7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocGF0aC5pbmRleE9mKCcvcGFnZS9sb2dpbldlbGNvbWUvJykgPT09IDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAnV2VsY29tZSc7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJyc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfSk7XHJcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==